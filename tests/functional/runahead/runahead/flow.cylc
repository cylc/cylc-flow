[scheduler]
    [[events]]
        abort on inactivity = True
        inactivity = PT10S
[scheduling]
    cycling mode = integer
    runahead limit = P4
    initial cycle point = 1
    final cycle point = 20
    [[graph]]
        P1 = foo
[runtime]
    [[foo]]
        script = """
            if [[ "$CYLC_TASK_JOB" == '1/foo/01' ]]; then
                # keep running until scheduler is gone
                while cylc ping $CYLC_WORKFLOW_NAME; do
                    sleep 10
                done
            else
                true
            fi
        """
