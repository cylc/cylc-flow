<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Running Suites</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<!-- html,fn-in,2,next --> 
<meta name="src" content="cug-html.tex"> 
<link rel="stylesheet" type="text/css" href="cug-html.css"> 
</head><body 
>
<!--l. 6800--><div class="crosslinks"><p class="noindent">[<a 
href="cug-htmlse14.html" >next</a>] [<a 
href="cug-htmlse12.html" >prev</a>] [<a 
href="cug-htmlse12.html#tailcug-htmlse12.html" >prev-tail</a>] [<a 
href="#tailcug-htmlse13.html">tail</a>] [<a 
href="cug-html.html#cug-htmlse13.html" >up</a>] </p></div>
<!--l. 6800--><p class="noindent" > <h3 id="13" class="sectionHead"><span class="titlemark"> <a href="#13">13</a>  <a 
 id="x15-20300013"></a>Running Suites </span></h3> <div class="sectionTOCS">
&#x00A0;<span class="subsectionToc" >13.1 <a 
href="#x15-20400013.1">Suite Start-Up</a></span>
<br />&#x00A0;<span class="subsectionToc" >13.2 <a 
href="#x15-21200013.2">Reloading The Suite Configuration At Runtime</a></span>
<br />&#x00A0;<span class="subsectionToc" >13.3 <a 
href="#x15-21300013.3">Task Job Access To Cylc</a></span>
<br />&#x00A0;<span class="subsectionToc" >13.4 <a 
href="#x15-21400013.4">The Suite Contact File</a></span>
<br />&#x00A0;<span class="subsectionToc" >13.5 <a 
href="#x15-21500013.5">Task Job Polling</a></span>
<br />&#x00A0;<span class="subsectionToc" >13.6 <a 
href="#x15-21700013.6">Tracking Task State</a></span>
<br />&#x00A0;<span class="subsectionToc" >13.7 <a 
href="#x15-22200013.7">The Suite Service Directory</a></span>
<br />&#x00A0;<span class="subsectionToc" >13.8 <a 
href="#x15-22300013.8">File-Reading Commands</a></span>
<br />&#x00A0;<span class="subsectionToc" >13.9 <a 
href="#x15-22700013.9">Client-Server Interaction</a></span>
<br />&#x00A0;<span class="subsectionToc" >13.10 <a 
href="#x15-23000013.10">GUI-to-Suite Interaction</a></span>
<br />&#x00A0;<span class="subsectionToc" >13.11 <a 
href="#x15-23100013.11">Remote Control</a></span>
<br />&#x00A0;<span class="subsectionToc" >13.12 <a 
href="#x15-23200013.12">Scan And Gscan</a></span>
<br />&#x00A0;<span class="subsectionToc" >13.13 <a 
href="#x15-23300013.13">Task States Explained</a></span>
<br />&#x00A0;<span class="subsectionToc" >13.14 <a 
href="#x15-23400013.14">What The Suite Control GUI Shows</a></span>
<br />&#x00A0;<span class="subsectionToc" >13.15 <a 
href="#x15-23500013.15">Network Connection Timeouts</a></span>
<br />&#x00A0;<span class="subsectionToc" >13.16 <a 
href="#x15-23600013.16">Runahead Limiting</a></span>
<br />&#x00A0;<span class="subsectionToc" >13.17 <a 
href="#x15-23700013.17">Limiting Activity With Internal Queues</a></span>
<br />&#x00A0;<span class="subsectionToc" >13.18 <a 
href="#x15-23800013.18">Automatic Task Retry On Failure</a></span>
<br />&#x00A0;<span class="subsectionToc" >13.19 <a 
href="#x15-23900013.19">Task Event Handling</a></span>
<br />&#x00A0;<span class="subsectionToc" >13.20 <a 
href="#x15-24100013.20">Managing External Command Execution</a></span>
<br />&#x00A0;<span class="subsectionToc" >13.21 <a 
href="#x15-24200013.21">Handling Job Preemption</a></span>
<br />&#x00A0;<span class="subsectionToc" >13.22 <a 
href="#x15-24300013.22">Manual Task Triggering and Edit-Run</a></span>
<br />&#x00A0;<span class="subsectionToc" >13.23 <a 
href="#x15-24400013.23">Cylc Broadcast</a></span>
<br />&#x00A0;<span class="subsectionToc" >13.24 <a 
href="#x15-24500013.24">The Meaning And Use Of Initial Cycle Point</a></span>
<br />&#x00A0;<span class="subsectionToc" >13.25 <a 
href="#x15-24700013.25">Simulating Suite Behaviour</a></span>
<br />&#x00A0;<span class="subsectionToc" >13.26 <a 
href="#x15-25100013.26">Automated Reference Test Suites</a></span>
<br />&#x00A0;<span class="subsectionToc" >13.27 <a 
href="#x15-25300013.27">Triggering Off Of Tasks In Other Suites</a></span>
                                                                                         

                                                                                         
<br />&#x00A0;<span class="subsectionToc" >13.28 <a 
href="#x15-25400013.28">Suite Server Logs</a></span>
<br />&#x00A0;<span class="subsectionToc" >13.29 <a 
href="#x15-25500013.29">Suite Run Databases</a></span>
<br />&#x00A0;<span class="subsectionToc" >13.30 <a 
href="#x15-25600013.30">Disaster Recovery</a></span>
<br />&#x00A0;<span class="subsectionToc" >13.31 <a 
href="#x15-25700013.31">Auto Stop-Restart</a></span>
</div>
<!--l. 6803--><p class="noindent" >This chapter currently features a diverse collection of topics related to running suites. Please also see the Tutorial
(<a 
href="cug-htmlse7.html#x9-260007">7<!--tex4ht:ref: Tutorial --></a>) and command documentation (<a 
href="cug-htmlse20.html#x22-574000F">F<!--tex4ht:ref: CommandReference --></a>), and experiment with plenty of examples.
<!--l. 6808--><p class="noindent" >
<!--l. 6808--><p class="noindent" > <h4 id="13.1" class="subsectionHead"> <span class="titlemark"> <a href="#13.1"> 13.1</a>  <a 
 id="x15-20400013.1"></a>Suite Start-Up </span></h4>
<!--l. 6811--><p class="noindent" >There are three ways to start a suite running: <span 
class="cmti-10">cold start </span>and <span 
class="cmti-10">warm start</span>, which start from scratch; and <span 
class="cmti-10">restart</span>, which
starts from a prior suite state checkpoint. The only difference between cold starts and warm starts is that warm
starts start from a point beyond the suite initial cycle point.
<!--l. 6816--><p class="noindent" >Once a suite is up and running it is typically a restart that is needed most often (but see also <span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">reload</span>). <span 
class="cmti-10">Be</span>
<span 
class="cmti-10">aware that cold and warm starts wipe out prior suite state, so you can&#8217;t go back to a restart if you decide you made a</span>
<span 
class="cmti-10">mistake.</span>
<!--l. 6821--><p class="noindent" >
<!--l. 6821--><p class="noindent" > <h4 id="13.1.1" class="subsubsectionHead"><span class="titlemark"> <a href="#13.1.1"> 13.1.1</a>  <a 
 id="x15-20500013.1.1"></a>Cold Start </span></h4>
<!--l. 6824--><p class="noindent" >A cold start is the primary way to start a suite run from scratch:  <!--l. 6826-->
<div class="lstlisting" id="listing-268"><span class="label"><a 
 id="x15-205001r1"></a></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">SUITE</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">INITIAL_CYCLE_POINT</span><span 
class="pcrr7t-">]</span>
</div>
<!--l. 6829--><p class="noindent" >The initial cycle point may be specified on the command line or in the suite.rc file. The scheduler starts by
loading the first instance of each task at the suite initial cycle point, or at the next valid point for the
task.
<!--l. 6833--><p class="noindent" >
<!--l. 6833--><p class="noindent" > <h4 id="13.1.2" class="subsubsectionHead"><span class="titlemark"> <a href="#13.1.2"> 13.1.2</a>  <a 
 id="x15-20600013.1.2"></a>Warm Start </span></h4>
<!--l. 6836--><p class="noindent" >A warm start runs a suite from scratch like a cold start, but from the beginning of a given cycle point that is beyond
the suite initial cycle point. This is generally inferior to a <span 
class="cmti-10">restart </span>(which loads a previously recorded suite state -
see&#x00A0;<a 
href="#x15-20700013.1.3">13.1.3<!--tex4ht:ref: RestartingSuites --></a>) because it may result in some tasks rerunning. However, a warm start may be required if a restart is not
possible, e.g.&#x00A0;because the suite run database was accidentally deleted. The warm start cycle point must be given on
the command line:  <!--l. 6844-->
                                                                                         

                                                                                         
<div class="lstlisting" id="listing-269"><span class="label"><a 
 id="x15-206001r1"></a></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">warm</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">SUITE</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">START_CYCLE_POINT</span><span 
class="pcrr7t-">]</span>
</div>
<!--l. 6847--><p class="noindent" >The original suite initial cycle point is preserved, but all tasks and dependencies before the given warm start cycle
point are ignored.
<!--l. 6850--><p class="noindent" >The scheduler starts by loading a first instance of each task at the warm start cycle point, or at the next valid point
for the task. <span class="lstinline"></span><span 
class="pcrr7t-">R1</span>-type tasks behave exactly the same as other tasks - if their cycle point is at or later than the given
start cycle point, they will run; if not, they will be ignored.
<!--l. 6856--><p class="noindent" >
<!--l. 6856--><p class="noindent" > <h4 id="13.1.3" class="subsubsectionHead"><span class="titlemark"> <a href="#13.1.3"> 13.1.3</a>  <a 
 id="x15-20700013.1.3"></a>Restart and Suite State Checkpoints </span></h4>
<!--l. 6859--><p class="noindent" >At restart (see <span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">restart</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">help</span>) a suite server program initializes its task pool from a previously recorded
checkpoint state. By default the latest automatic checkpoint - which is updated with every task state
change - is loaded so that the suite can carry on exactly as it was just before being shut down or
killed.
<!--l. 6866-->
<div class="lstlisting" id="listing-270"><span class="label"><a 
 id="x15-207001r1"></a></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">restart</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">SUITE</span>
</div>
<!--l. 6870--><p class="noindent" >Tasks recorded in the &#8216;submitted&#8217; or &#8216;running&#8217; states are automatically polled (see Section&#x00A0;<a 
href="#x15-21500013.5">13.5<!--tex4ht:ref: Task Job Polling --></a>) at start-up to
determine what happened to them while the suite was down.
<!--l. 6874--><p class="noindent" >
<!--l. 6874--><p class="noindent" ><span class="paragraphHead"><a 
 id="x15-20800013.1.3.1"></a><span 
class="cmbx-10">Restart From Latest Checkpoint</span></span>
To restart from the latest checkpoint simply invoke the <span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">restart</span> command with the suite name (or select
&#8216;restart&#8217; in the GUI suite start dialog window):
<!--l. 6881-->
<div class="lstlisting" id="listing-271"><span class="label"><a 
 id="x15-208001r1"></a></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">restart</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">SUITE</span>
</div>
<!--l. 6885--><p class="noindent" >
<!--l. 6885--><p class="noindent" ><span class="paragraphHead"><a 
 id="x15-20900013.1.3.2"></a><span 
class="cmbx-10">Restart From Another Checkpoint</span></span>
Suite server programs automatically update the &#8220;latest&#8221; checkpoint every time a task changes state, and at every
suite restart, but you can also take checkpoints at other times. To tell a suite server program to checkpoint its
current state:  <!--l. 6892-->
                                                                                         

                                                                                         
<div class="lstlisting" id="listing-272"><span class="label"><a 
 id="x15-209001r1"></a></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">checkpoint</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">SUITE</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">NAME</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">CHECKPOINT</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">NAME</span>
</div>
<!--l. 6896--><p class="noindent" >The 2nd argument is a name to identify the checkpoint later with: <!--l. 6897-->
<div class="lstlisting" id="listing-273"><span class="label"><a 
 id="x15-209002r1"></a></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">ls</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">checkpoints</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">SUITE</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">NAME</span>
</div>
<!--l. 6901--><p class="noindent" >For example, with checkpoints named &#8216;bob&#8217;, &#8216;alice&#8217;, and &#8216;breakfast&#8217;: <!--l. 6902-->
<div class="lstlisting" id="listing-274"><span class="label"><a 
 id="x15-209003r1"></a></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">ls</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">checkpoints</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">SUITE</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">NAME</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-209004r2"></a></span><span 
class="pcrr7t-">#</span><span 
class="pcrr7t-">######################################################################</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-209005r3"></a></span><span 
class="pcrr7t-">#</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">CHECKPOINT</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">ID</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">ID</span><span 
class="pcrr7t-">|</span><span 
class="pcrr7t-">TIME</span><span 
class="pcrr7t-">|</span><span 
class="pcrr7t-">EVENT</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-209006r4"></a></span><span 
class="pcrr7t-">1|2017-11-01</span><span 
class="pcrr7t-">T15</span><span 
class="pcrr7t-">:48:34+13|</span><span 
class="pcrr7t-">bob</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-209007r5"></a></span><span 
class="pcrr7t-">2|2017-11-01</span><span 
class="pcrr7t-">T15</span><span 
class="pcrr7t-">:48:47+13|</span><span 
class="pcrr7t-">alice</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-209008r6"></a></span><span 
class="pcrr7t-">3|2017-11-01</span><span 
class="pcrr7t-">T15</span><span 
class="pcrr7t-">:49:00+13|</span><span 
class="pcrr7t-">breakfast</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-209009r7"></a></span><span 
class="pcrr7t-">...</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-209010r8"></a></span><span 
class="pcrr7t-">0|2017-11-01</span><span 
class="pcrr7t-">T17</span><span 
class="pcrr7t-">:29:19+13|</span><span 
class="pcrr7t-">latest</span>
</div>
<!--l. 6913--><p class="noindent" >To see the actual task state content of a given checkpoint ID (if you need to), for the moment you have to
interrogate the suite DB, e.g.:
<!--l. 6916-->
<div class="lstlisting" id="listing-275"><span class="label"><a 
 id="x15-209011r1"></a></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">sqlite3</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">~/</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">SUITE</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">NAME</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">log</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">db</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">\</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-209012r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">select</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">from</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">task_pool_checkpoints</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">where</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">id</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">==</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">3;'</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-209013r3"></a></span><span 
class="pcrr7t-">3|2012|</span><span 
class="pcrr7t-">model</span><span 
class="pcrr7t-">|1|</span><span 
class="pcrr7t-">running</span><span 
class="pcrr7t-">|</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-209014r4"></a></span><span 
class="pcrr7t-">3|2013|</span><span 
class="pcrr7t-">pre</span><span 
class="pcrr7t-">|0|</span><span 
class="pcrr7t-">waiting</span><span 
class="pcrr7t-">|</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-209015r5"></a></span><span 
class="pcrr7t-">3|2013|</span><span 
class="pcrr7t-">post</span><span 
class="pcrr7t-">|0|</span><span 
class="pcrr7t-">waiting</span><span 
class="pcrr7t-">|</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-209016r6"></a></span><span 
class="pcrr7t-">3|2013|</span><span 
class="pcrr7t-">model</span><span 
class="pcrr7t-">|0|</span><span 
class="pcrr7t-">waiting</span><span 
class="pcrr7t-">|</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-209017r7"></a></span><span 
class="pcrr7t-">3|2013|</span><span 
class="pcrr7t-">upload</span><span 
class="pcrr7t-">|0|</span><span 
class="pcrr7t-">waiting</span><span 
class="pcrr7t-">|</span>
</div>
<!--l. 6926--><p class="noindent" >Note that a checkpoint captures the instantaneous state of every task in the suite, including any tasks that are
currently active, so you may want to be careful where you do it. Tasks recorded as active are polled automatically
on restart to determine what happened to them.
<!--l. 6931--><p class="noindent" >The checkpoint ID 0 (zero) is always used for latest state of the suite, which is updated continuously as the suite
progresses. The checkpoint IDs of earlier states are positive integers starting from 1, incremented each time a new
checkpoint is stored. Currently suites automatically store checkpoints before and after reloads, and on restarts
(using the latest checkpoints before the restarts).
<!--l. 6938--><p class="noindent" >Once you have identified the right checkpoint, restart the suite like this:  <!--l. 6940-->
<div class="lstlisting" id="listing-276"><span class="label"><a 
 id="x15-209018r1"></a></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">restart</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">checkpoint</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">CHECKPOINT</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">ID</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">SUITE</span>
</div>
<!--l. 6943--><p class="noindent" >or enter the checkpoint ID in the space provided in the GUI restart window.
<!--l. 6945--><p class="noindent" >
<!--l. 6945--><p class="noindent" ><span class="paragraphHead"><a 
 id="x15-21000013.1.3.3"></a><span 
class="cmbx-10">Checkpointing With A Task</span></span>
Checkpoints can be generated automatically at particular points in the workflow by coding tasks that run the
<span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">checkpoint</span> command:
<!--l. 6951-->
<div class="lstlisting" id="listing-277"><span class="label"><a 
 id="x15-210001r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">scheduling</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-210002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">dependencies</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-210003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">PT6H</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-210004r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">graph</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">pre</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">model</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">post</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">checkpointer</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-210005r5"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">runtime</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-210006r6"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">...</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-210007r7"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">checkpointer</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-210008r8"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">script</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-210009r9"></a></span><span 
class="pcrr7t-">wait</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">CYLC_TASK_MESSAGE_STARTED_PID</span><span 
class="pcrr7t-">}</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">2&#x003E;/</span><span 
class="pcrr7t-">dev</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">null</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">||</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">true</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-210010r10"></a></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">checkpoint</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">CYLC_SUITE_NAME</span><span 
class="pcrr7t-">}</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">CP</span><span 
class="pcrr7t-">-</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">CYLC_TASK_CYCLE_POINT</span><span 
class="pcrr7t-">}</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-210011r11"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span>
                                                                                         

                                                                                         
</div>
<!--l. 6965--><p class="noindent" >Note that we need to <span class="lstinline"></span><span 
class="pcrr7t-">wait</span> on the &#8220;task started&#8221; message - which is sent in the background to avoid holding tasks
up in a network outage - to ensure that the checkpointer task is correctly recorded as running in the checkpoint (at
restart the suite server program will poll to determine that that task job finished successfully). Otherwise it
may be recorded in the waiting state and, if its upstream dependencies have already been cleaned
up, it will need to be manually reset from waiting to succeeded after the restart to avoid stalling the
suite.
<!--l. 6974--><p class="noindent" >
<!--l. 6974--><p class="noindent" ><span class="paragraphHead"><a 
 id="x15-21100013.1.3.4"></a><span 
class="cmbx-10">Behaviour of Tasks on Restart</span></span>
All tasks are reloaded in exactly their checkpointed states. Failed tasks are not automatically resubmitted at restart
in case the underlying problem has not been addressed yet.
<!--l. 6980--><p class="noindent" >Tasks recorded in the submitted or running states are automatically polled on restart, to see if they are still waiting
in a batch queue, still running, or if they succeeded or failed while the suite was down. The suite state will be
updated automatically according to the poll results.
<!--l. 6985--><p class="noindent" >Existing instances of tasks removed from the suite configuration before restart are not removed from the task pool
automatically, but they will not spawn new instances. They can be removed manually if necessary,
with&#x00A0;<span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">remove</span>.
<!--l. 6990--><p class="noindent" >Similarly, instances of new tasks added to the suite configuration before restart are not inserted into the task pool
automatically, because it is very difficult in general to automatically determine the cycle point of the first
instance. Instead, the first instance of a new task should be inserted manually at the right cycle point,
with&#x00A0;<span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">insert</span>.
<!--l. 6996--><p class="noindent" >
<!--l. 6996--><p class="noindent" > <h4 id="13.2" class="subsectionHead"> <span class="titlemark"> <a href="#13.2"> 13.2</a>  <a 
 id="x15-21200013.2"></a>Reloading The Suite Configuration At Runtime </span></h4>
<!--l. 6998--><p class="noindent" >The <span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">reload</span> command tells a suite server program to reload its suite configuration at run time. This is an
alternative to shutting a suite down and restarting it after making changes.
<!--l. 7002--><p class="noindent" >As for a restart, existing instances of tasks removed from the suite configuration before reload are not removed from
the task pool automatically, but they will not spawn new instances. They can be removed manually if necessary,
with&#x00A0;<span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">remove</span>.
<!--l. 7007--><p class="noindent" >Similarly, instances of new tasks added to the suite configuration before reload are not inserted into
the pool automatically. The first instance of each must be inserted manually at the right cycle point,
with&#x00A0;<span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">insert</span>.
<!--l. 7011--><p class="noindent" >
<!--l. 7011--><p class="noindent" > <h4 id="13.3" class="subsectionHead"> <span class="titlemark"> <a href="#13.3"> 13.3</a>  <a 
 id="x15-21300013.3"></a>Task Job Access To Cylc </span></h4>
<!--l. 7014--><p class="noindent" >Task jobs need access to Cylc on the job host, primarily for task messaging, but also to allow user-defined task
scripting to run other Cylc commands.
                                                                                         

                                                                                         
<!--l. 7017--><p class="noindent" >Cylc should be installed on job hosts as on suite hosts, with different releases installed side-by-side and invoked via
the central Cylc wrapper according to the value of <span class="lstinline"></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">CYLC_VERSION</span> - see Section&#x00A0;<a 
href="cug-htmlse3.html#x5-130003.3">3.3<!--tex4ht:ref: InstallCylc --></a>. Task job scripts set
<span class="lstinline"></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">CYLC_VERSION</span> to the version of the parent suite server program, so that the right Cylc will be invoked by jobs on
the job host.
<!--l. 7023--><p class="noindent" >Access to the Cylc executable (preferably the central wrapper as just described) for different job hosts can
be configured using site and user global configuration files (on the suite host). If the environment
for running the Cylc executable is only set up correctly in a login shell for a given host, you can set
<span class="lstinline"></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">hosts</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">HOST</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">use</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">login</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">shell</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">True</span> for the relevant host (this is the default, to cover more sites
automatically). If the environment is already correct without the login shell, but the Cylc executable is not
in <span class="lstinline"></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">PATH</span>, then <span class="lstinline"></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">hosts</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">HOST</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">executable</span> can be used to specify the direct path to the
executable.
<!--l. 7033--><p class="noindent" >To customize the environment more generally for Cylc on jobs hosts, use of <span class="lstinline"></span><span 
class="pcrr7t-">job</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">init</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">env</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">sh</span> is described in
Section&#x00A0;<a 
href="cug-htmlse7.html#x9-280007.1.1">7.1.1<!--tex4ht:ref: Configure Environment on Job Hosts --></a>.
<!--l. 7037--><p class="noindent" >
<!--l. 7037--><p class="noindent" > <h4 id="13.4" class="subsectionHead"> <span class="titlemark"> <a href="#13.4"> 13.4</a>  <a 
 id="x15-21400013.4"></a>The Suite Contact File </span></h4>
<!--l. 7040--><p class="noindent" >At start-up, suite server programs write a <span 
class="cmti-10">suite contact file </span><span class="lstinline"></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">HOME</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">SUITE</span><span 
class="pcrr7t-">/.</span><span 
class="pcrr7t-">service</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">contact</span> that
records suite host, user, port number, process ID, Cylc version, and other information. Client commands can read
this file, if they have access to it, to find the target suite server program.
<!--l. 7046--><p class="noindent" >
<!--l. 7046--><p class="noindent" > <h4 id="13.5" class="subsectionHead"> <span class="titlemark"> <a href="#13.5"> 13.5</a>  <a 
 id="x15-21500013.5"></a>Task Job Polling </span></h4>
<!--l. 7049--><p class="noindent" >At any point after job submission task jobs can be <span 
class="cmti-10">polled </span>to check that their true state conforms to what is currently
recorded by the suite server program. See <span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">poll</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">help</span> for how to poll one or more tasks manually, or
right-click poll a task or family in GUI.
<!--l. 7054--><p class="noindent" >Polling may be necessary if, for example, a task job gets killed by the untrappable SIGKILL signal
(e.g.&#x00A0;<span class="lstinline"></span><span 
class="pcrr7t-">kill</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-9</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">PID</span>), or if a network outage prevents task success or failure messages getting through, or if the
suite server program itself is down when tasks finish execution.
<!--l. 7059--><p class="noindent" >To poll a task job the suite server program interrogates the batch system, and the <span class="lstinline"></span><span 
class="pcrr7t-">job</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">status</span> file, on the job
host. This information is enough to determine the final task status even if the job finished while the suite server
program was down or unreachable on the network.
<!--l. 7064--><p class="noindent" >
<!--l. 7064--><p class="noindent" > <h4 id="13.5.1" class="subsubsectionHead"><span class="titlemark"> <a href="#13.5.1"> 13.5.1</a>  <a 
 id="x15-21600013.5.1"></a>Routine Polling </span></h4>
<!--l. 7066--><p class="noindent" >Task jobs are automatically polled at certain times: once on job submission timeout; several times on exceeding the
job execution time limit; and at suite restart any tasks recorded as active in the suite state checkpoint are polled to
find out what happened to them while the suite was down.
<!--l. 7071--><p class="noindent" >Finally, in necessary routine polling can be configured as a way to track job status on job hosts that do not allow
networking routing back to the suite host for task messaging by HTTPS or ssh. See&#x00A0;<a 
href="#x15-22000013.6.3">13.6.3<!--tex4ht:ref: Polling To Track Job Status --></a>.
                                                                                         

                                                                                         
<!--l. 7075--><p class="noindent" >
<!--l. 7075--><p class="noindent" > <h4 id="13.6" class="subsectionHead"> <span class="titlemark"> <a href="#13.6"> 13.6</a>  <a 
 id="x15-21700013.6"></a>Tracking Task State </span></h4>
<!--l. 7078--><p class="noindent" >Cylc supports three ways of tracking task state on job hosts:
     <ul class="itemize1">
     <li class="itemize">task-to-suite messaging via HTTPS
     </li>
     <li class="itemize">task-to-suite messaging via non-interactive ssh to the suite host, then local HTTPS
     </li>
     <li class="itemize">regular polling by the suite server program</li></ul>
<!--l. 7085--><p class="noindent" >These can be configured per job host in the Cylc global config file - see &#x00A0;/refSiteRCReference.
<!--l. 7088--><p class="noindent" >If your site prohibits HTTPS and ssh back from job hosts to suite hosts, before resorting to the polling method you
should consider installing dedicated Cylc servers or VMs inside the HPC trust zone (where HTTPS and ssh should
be allowed).
<!--l. 7092--><p class="noindent" >It is also possible to run Cylc suite server programs on HPC login nodes, but this is not recommended for load, run
duration, and GUI reasons.
<!--l. 7095--><p class="noindent" >Finally, it has been suggested that <span 
class="cmti-10">port forwarding </span>may provide another solution - but that is beyond the scope of
this document.
<!--l. 7098--><p class="noindent" >
<!--l. 7098--><p class="noindent" > <h4 id="13.6.1" class="subsubsectionHead"><span class="titlemark"> <a href="#13.6.1"> 13.6.1</a>  <a 
 id="x15-21800013.6.1"></a>HTTPS Task Messaging </span></h4>
<!--l. 7100--><p class="noindent" >Task job wrappers automatically invoke <span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">message</span> to report progress back to the suite server program when
they begin executing, at normal exit (success) and abnormal exit (failure).
<!--l. 7104--><p class="noindent" >By default the messaging occurs via an authenticated, HTTPS connection to the suite server program. This is the
preferred task communications method - it is efficient and direct.
<!--l. 7108--><p class="noindent" >Suite server programs automatically install suite contact information and credentials on job hosts. Users only
need to do this manually for remote access to suites on other hosts, or suites owned by other users -
see&#x00A0;<a 
href="#x15-23100013.11">13.11<!--tex4ht:ref: RemoteControl --></a>.
<!--l. 7112--><p class="noindent" >
<!--l. 7112--><p class="noindent" > <h4 id="13.6.2" class="subsubsectionHead"><span class="titlemark"> <a href="#13.6.2"> 13.6.2</a>  <a 
 id="x15-21900013.6.2"></a>Ssh Task Messaging </span></h4>
<!--l. 7114--><p class="noindent" >Cylc can be configured to re-invoke task messaging commands on the suite host via non-interactive ssh (from job
host to suite host). Then a local HTTPS connection is made to the suite server program.
<!--l. 7118--><p class="noindent" >(User-invoked client commands (aside from the GUI, which requires HTTPS) can do the same thing with the
<span class="lstinline"></span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">use</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">ssh</span> command option).
<!--l. 7121--><p class="noindent" >This is less efficient than direct HTTPS messaging, but it may be useful at sites where the HTTPS ports are blocked
but non-interactive ssh is allowed.
                                                                                         

                                                                                         
<!--l. 7124--><p class="noindent" >
<!--l. 7124--><p class="noindent" > <h4 id="13.6.3" class="subsubsectionHead"><span class="titlemark"> <a href="#13.6.3"> 13.6.3</a>  <a 
 id="x15-22000013.6.3"></a>Polling to Track Job Status </span></h4>
<!--l. 7127--><p class="noindent" >Finally, suite server programs can actively poll task jobs at configurable intervals, via non-interactive ssh to the job
host.
<!--l. 7130--><p class="noindent" >Polling is the least efficient task communications method because task state is updated only at intervals, not when
task events actually occur. However, it may be needed at sites that do not allow HTTPS or non-interactive ssh from
job host to suite host.
<!--l. 7135--><p class="noindent" >Be careful to avoid spamming task hosts with polling commands. Each poll opens (and then closes) a new ssh
connection.
<!--l. 7138--><p class="noindent" >Polling intervals are configurable under <span class="lstinline"></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">runtime</span><span 
class="pcrr7t-">]</span> because they should may depend on the expected execution
time. For instance, a task that typically takes an hour to run might be polled every 10 minutes initially, and then
every minute toward the end of its run. Interval values are used in turn until the last value, which is used repeatedly
until finished:  <!--l. 7146-->
<div class="lstlisting" id="listing-278"><span class="label"><a 
 id="x15-220001r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">runtime</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-220002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-220003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">job</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-220004r4"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">poll</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">every</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">minute</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">in</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">the</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">'</span><span 
class="pcrro7t-">submitted</span><span 
class="pcrro7t-">'</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">state</span><span 
class="pcrro7t-">:</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-220005r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">submission</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">polling</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">intervals</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">PT1M</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-220006r6"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">poll</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">one</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">minute</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">after</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">foo</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">starts</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">running</span><span 
class="pcrro7t-">,</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">then</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">every</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">10</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-220007r7"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">minutes</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">for</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">50</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">minutes</span><span 
class="pcrro7t-">,</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">then</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">every</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">minute</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">until</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">finished</span><span 
class="pcrro7t-">:</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-220008r8"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">execution</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">polling</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">intervals</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">PT1M</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">5&#x22C6;</span><span 
class="pcrr7t-">PT10M</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">PT1M</span>
</div>
<!--l. 7156--><p class="noindent" >A list of intervals with optional multipliers can be used for both submission and execution polling, although a single
value is probably sufficient for submission polling. If these items are not configured default values
from site and user global config will be used for the polling task communication method; polling is
not done by default under the other task communications methods (but it can still be used if you
like).
<!--l. 7164--><p class="noindent" >
<!--l. 7164--><p class="noindent" > <h4 id="13.6.4" class="subsubsectionHead"><span class="titlemark"> <a href="#13.6.4"> 13.6.4</a>  <a 
 id="x15-22100013.6.4"></a>Task Communications Configuration </span></h4>
<!--l. 7167--><p class="noindent" >
<!--l. 7167--><p class="noindent" > <h4 id="13.7" class="subsectionHead"> <span class="titlemark"> <a href="#13.7"> 13.7</a>  <a 
 id="x15-22200013.7"></a>The Suite Service Directory </span></h4>
<!--l. 7170--><p class="noindent" >At registration time a <span 
class="cmti-10">suite service directory</span>, <span class="lstinline"></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">HOME</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">/&#x003C;</span><span 
class="pcrr7t-">SUITE</span><span 
class="pcrr7t-">&#x003E;/.</span><span 
class="pcrr7t-">service</span><span 
class="pcrr7t-">/</span>, is created and populated
with a private passphrase file (containing random text), a self-signed SSL certificate (see&#x00A0;<a 
href="#x15-22700013.9">13.9<!--tex4ht:ref: ConnectionAuthentication --></a>), and a
symlink to the suite source directory. An existing passphrase file will not be overwritten if a suite is
re-registered.
<!--l. 7177--><p class="noindent" >At run time, the private suite run database is also written to the service directory, along with a <span 
class="cmti-10">suite contact file</span>
that records the host, user, port number, process ID, Cylc version, and other information about the suite server
program. Client commands automatically read daemon targetting information from the contact file, if they have
access to it.
                                                                                         

                                                                                         
<!--l. 7183--><p class="noindent" >
<!--l. 7183--><p class="noindent" > <h4 id="13.8" class="subsectionHead"> <span class="titlemark"> <a href="#13.8"> 13.8</a>  <a 
 id="x15-22300013.8"></a>File-Reading Commands </span></h4>
<!--l. 7185--><p class="noindent" >Some Cylc commands and GUI actions parse suite configurations or read other files from the suite host account,
rather than communicate with a suite server program over the network. In future we plan to have suite server
program serve up these files to clients, but for the moment this functionality requires read-access to the relevant files
on the suite host.
<!--l. 7191--><p class="noindent" >If you are logged into the suite host account, file-reading commands will just work.
<!--l. 7194--><p class="noindent" >
<!--l. 7194--><p class="noindent" > <h4 id="13.8.1" class="subsubsectionHead"><span class="titlemark"> <a href="#13.8.1"> 13.8.1</a>  <a 
 id="x15-22400013.8.1"></a>Remote Host, Shared Home Directory </span></h4>
<!--l. 7196--><p class="noindent" >If you are logged into another host with shared home directories (shared filesystems are common in
HPC environments) file-reading commands will just work because suite files will look &#8220;local&#8221; on both
hosts.
<!--l. 7200--><p class="noindent" >
<!--l. 7200--><p class="noindent" > <h4 id="13.8.2" class="subsubsectionHead"><span class="titlemark"> <a href="#13.8.2"> 13.8.2</a>  <a 
 id="x15-22500013.8.2"></a>Remote Host, Different Home Directory </span></h4>
<!--l. 7202--><p class="noindent" >If you are logged into another host with no shared home directory, file-reading commands require non-interactive ssh
to the suite host account, and use of the <span class="lstinline"></span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">host</span> and <span class="lstinline"></span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">user</span> options to re-invoke the command on the suite
account.
<!--l. 7207--><p class="noindent" >
<!--l. 7207--><p class="noindent" > <h4 id="13.8.3" class="subsubsectionHead"><span class="titlemark"> <a href="#13.8.3"> 13.8.3</a>  <a 
 id="x15-22600013.8.3"></a>Same Host, Different User Account </span></h4>
<!--l. 7209--><p class="noindent" >(This is essentially the same as <span 
class="cmti-10">Remote Host, Different Home Directory</span>.)
<!--l. 7212--><p class="noindent" >
<!--l. 7212--><p class="noindent" > <h4 id="13.9" class="subsectionHead"> <span class="titlemark"> <a href="#13.9"> 13.9</a>  <a 
 id="x15-22700013.9"></a>Client-Server Interaction </span></h4>
<!--l. 7215--><p class="noindent" >Cylc server programs listen on dedicated network ports for HTTPS communications from Cylc clients (task jobs,
and user-invoked commands and GUIs).
<!--l. 7219--><p class="noindent" >Use <span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">scan</span> to see which suites are listening on which ports on scanned hosts (this lists your own suites by
default, but it can show others too - see <span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">scan</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">help</span>).
<!--l. 7223--><p class="noindent" >Cylc supports two kinds of access to suite server programs:
     <ul class="itemize1">
     <li class="itemize"><span 
class="cmti-10">public </span>(non-authenticated) - the amount of information revealed is configurable, see&#x00A0;<a 
href="#x15-22800013.9.1">13.9.1<!--tex4ht:ref: PublicAccess --></a>
     </li>
     <li class="itemize"><span 
class="cmti-10">control </span>(authenticated) - full control, suite passphrase required, see&#x00A0;<a 
href="#x15-22900013.9.2">13.9.2<!--tex4ht:ref: passphrases --></a></li></ul>
                                                                                         

                                                                                         
<!--l. 7231--><p class="noindent" >
<!--l. 7231--><p class="noindent" > <h4 id="13.9.1" class="subsubsectionHead"><span class="titlemark"> <a href="#13.9.1"> 13.9.1</a>  <a 
 id="x15-22800013.9.1"></a>Public Access - No Auth Files </span></h4>
<!--l. 7234--><p class="noindent" >Without a suite passphrase the amount of information revealed by a suite server program is determined by the
public access privilege level set in global site/user config (<a 
href="cug-htmlse16.html#x18-538000B.15">B.15<!--tex4ht:ref: GlobalAuth --></a>) and optionally overidden in suites
(<a 
href="cug-htmlse15.html#x17-307000A.3.16">A.3.16<!--tex4ht:ref: SuiteAuth --></a>):
     <ul class="itemize1">
     <li class="itemize"><span 
class="cmti-10">identity </span>- only suite and owner names revealed
     </li>
     <li class="itemize"><span 
class="cmti-10">description </span>- identity plus suite title and description
     </li>
     <li class="itemize"><span 
class="cmti-10">state-totals </span>- identity, description, and task state totals
     </li>
     <li class="itemize"><span 
class="cmti-10">full-read </span>- full read-only access for monitor and GUI
     </li>
     <li class="itemize"><span 
class="cmti-10">shutdown </span>- full read access plus shutdown, but no other control.</li></ul>
<!--l. 7246--><p class="noindent" >The default public access level is <span 
class="cmti-10">state-totals</span>.
<!--l. 7248--><p class="noindent" >The <span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">scan</span> command and the <span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">gscan</span> GUI can print descriptions and task state totals in addition to
basic suite identity, if the that information is revealed publicly.
<!--l. 7252--><p class="noindent" >
<!--l. 7252--><p class="noindent" > <h4 id="13.9.2" class="subsubsectionHead"><span class="titlemark"> <a href="#13.9.2"> 13.9.2</a>  <a 
 id="x15-22900013.9.2"></a>Full Control - With Auth Files </span></h4>
<!--l. 7255--><p class="noindent" >Suite auth files (passphrase and SSL certificate) give full control. They are loaded from the suite service
directory by the suite server program at start-up, and used to authenticate subsequent client connections.
Passphrases are used in a secure encrypted challenge-response scheme, never sent in plain text over the
network.
<!--l. 7261--><p class="noindent" >If two users need access to the same suite server program, they must both possess the passphrase file for that
suite. Fine-grained access to a single suite server program via distinct user accounts is not currently
supported.
<!--l. 7265--><p class="noindent" >Suite server programs automatically install their auth and contact files to job hosts via ssh, to enable task jobs to
connect back to the suite server program for task messaging.
<!--l. 7269--><p class="noindent" >Client programs invoked by the suite owner automatically load the passphrase, SSL certificate, and contact file too,
for automatic connection to suites.
<!--l. 7272--><p class="noindent" ><span 
class="cmti-10">Manual installation of suite auth files is only needed for remote control, if you do not have a shared filesystem - see</span>
<span 
class="cmti-10">below.</span>
<!--l. 7276--><p class="noindent" >
<!--l. 7276--><p class="noindent" > <h4 id="13.10" class="subsectionHead"> <span class="titlemark"> <a href="#13.10"> 13.10</a>  <a 
 id="x15-23000013.10"></a>GUI-to-Suite Interaction </span></h4>
                                                                                         

                                                                                         
<!--l. 7279--><p class="noindent" >The gcylc GUI is mainly a network client to retrieve and display suite status information from the suite server
program, but it can also invoke file-reading commands to view and graph the suite configuration and so on. This is
entirely transparent if the GUI is running on the suite host account, but full functionality for remote suites requires
either a shared filesystem, or (see&#x00A0;<a 
href="#x15-23100013.11">13.11<!--tex4ht:ref: RemoteControl --></a>) auth file installation <span 
class="cmti-10">and </span>non-interactive ssh access to the suite host.
Without the auth files you will not be able to connect to the suite, and without ssh you will see &#8220;permission denied&#8221;
errors on attempting file access.
<!--l. 7289--><p class="noindent" >
<!--l. 7289--><p class="noindent" > <h4 id="13.11" class="subsectionHead"> <span class="titlemark"> <a href="#13.11"> 13.11</a>  <a 
 id="x15-23100013.11"></a>Remote Control </span></h4>
<!--l. 7292--><p class="noindent" >Cylc client programs - command line and GUI - can interact with suite server programs running on other accounts
or hosts. How this works depends on whether or not you have:
     <ul class="itemize1">
     <li class="itemize">a <span 
class="cmti-10">shared filesystem </span>such that you see the same home directory on both hosts.
     </li>
     <li class="itemize"><span 
class="cmti-10">non-interactive ssh </span>from the client account to the server account.</li></ul>
<!--l. 7302--><p class="noindent" >With a shared filesystem, a suite registered on the remote (server) host is also - in effect - registered on the local
(client) host. In this case you can invoke client commands without the <span class="lstinline"></span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">host</span> option; the client will automatically
read the host and port from the contact file in the suite service directory.
<!--l. 7308--><p class="noindent" >To control suite server programs running under other user accounts or on other hosts without a shared
filesystem, the suite SSL certificate and passphrase must be installed under your <span class="lstinline"></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">HOME</span><span 
class="pcrr7t-">/.</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">/</span> directory:
<!--l. 7312-->
<div class="lstlisting" id="listing-279"><span class="label"><a 
 id="x15-231001r1"></a></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">HOME</span><span 
class="pcrr7t-">/.</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">auth</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">OWNER@HOST</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">SUITE</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-231002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">ssl</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">cert</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-231003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">passphrase</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-231004r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">contact</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">#</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">optional</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">see</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">below</span><span 
class="pcrr7t-">)</span>
</div>
<!--l. 7318--><p class="noindent" >where <span class="lstinline"></span><span 
class="pcrr7t-">OWNER@HOST</span> is the suite host account and <span class="lstinline"></span><span 
class="pcrr7t-">SUITE</span> is the suite name. Client commands should then be
invoked with the <span class="lstinline"></span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">user</span> and <span class="lstinline"></span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">host</span> options, e.g.:  <!--l. 7322-->
<div class="lstlisting" id="listing-280"><span class="label"><a 
 id="x15-231005r1"></a></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">gui</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">user</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">OWNER</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">host</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">HOST</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">SUITE</span>
</div>
<!--l. 7326--><p class="noindent" >Note remote suite auth files do not need to be installed for read-only access - see&#x00A0;<a 
href="#x15-22800013.9.1">13.9.1<!--tex4ht:ref: PublicAccess --></a> - via the GUI or
monitor.
<!--l. 7329--><p class="noindent" >The suite contact file (see&#x00A0;<a 
href="#x15-21400013.4">13.4<!--tex4ht:ref: The Suite Contact File --></a>) is not needed if you have read-access to the remote suite run directory via the local
filesystem or non-interactive ssh to the suite host account - client commands will automatically read it. If you do
install the contact file in your auth directory note that the port number will need to be updated if the suite gets
restarted on a different port. Otherwise use <span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">scan</span> to determine the suite port number and use the <span class="lstinline"></span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">port</span>
client command option.
<!--l. 7337--><p class="noindent" ><span 
class="cmti-10">WARNING: possession of a suite passphrase gives full control over the target suite, including </span>edit run <span 
class="cmti-10">functionality -</span>
<span 
class="cmti-10">which lets you run arbitrary scripting on job hosts as the suite owner. Further, non-interactive ssh gives full access</span>
<span 
class="cmti-10">to the target user account, so we recommended that this is only used to interact with suites running on accounts to</span>
<span 
class="cmti-10">which you already have full access.</span>
                                                                                         

                                                                                         
<!--l. 7344--><p class="noindent" >
<!--l. 7344--><p class="noindent" > <h4 id="13.12" class="subsectionHead"> <span class="titlemark"> <a href="#13.12"> 13.12</a>  <a 
 id="x15-23200013.12"></a>Scan And Gscan </span></h4>
<!--l. 7347--><p class="noindent" >Both <span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">scan</span> and the <span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">gscan</span> GUI can display suites owned by other users on other hosts, including
task state totals if the public access level permits that (see&#x00A0;<a 
href="#x15-22800013.9.1">13.9.1<!--tex4ht:ref: PublicAccess --></a>). Clicking on a remote suite in
<span class="lstinline"></span><span 
class="pcrr7t-">gscan</span> will open a <span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">gui</span> to connect to that suite. This will give you full control, if you have the
suite auth files installed; or it will display full read only information if the public access level allows
that.
<!--l. 7355--><p class="noindent" >
<!--l. 7355--><p class="noindent" > <h4 id="13.13" class="subsectionHead"> <span class="titlemark"> <a href="#13.13"> 13.13</a>  <a 
 id="x15-23300013.13"></a>Task States Explained </span></h4>
<!--l. 7357--><p class="noindent" >As a suite runs, its task proxies may pass through the following states:
     <ul class="itemize1">
     <li class="itemize"><span 
class="cmbx-10">waiting </span>- still waiting for prerequisites (e.g.&#x00A0;dependence on other tasks, and clock triggers) to be
     satisfied.
     </li>
     <li class="itemize"><span 
class="cmbx-10">held </span>- will not be submitted to run even if all prerequisites are satisfied, until released/un-held.
     </li>
     <li class="itemize"><span 
class="cmbx-10">queued </span>- ready to run (prerequisites satisfied) but temporarily held back by an <span 
class="cmti-10">internal cylc queue</span>
     (see&#x00A0;<a 
href="#x15-23700013.17">13.17<!--tex4ht:ref: InternalQueues --></a>).
     </li>
     <li class="itemize"><span 
class="cmbx-10">ready </span>- ready to run (prerequisites satisfied) and handed to cylc&#8217;s job submission sub-system.
     </li>
     <li class="itemize"><span 
class="cmbx-10">submitted </span>- submitted to run, but not executing yet (could be waiting in an external batch scheduler
     queue).
     </li>
     <li class="itemize"><span 
class="cmbx-10">submit-failed </span>- job submission failed <span 
class="cmti-10">or </span>submitted job killed (cancelled) before commencing execution.
     </li>
     <li class="itemize"><span 
class="cmbx-10">submit-retrying </span>- job submission failed, but a submission retry was configured. Will only enter the
     <span 
class="cmti-10">submit-failed </span>state if all configured submission retries are exhausted.
     </li>
     <li class="itemize"><span 
class="cmbx-10">running </span>- currently executing (a <span 
class="cmti-10">task started </span>message was received, or the task polled as running).
     </li>
     <li class="itemize"><span 
class="cmbx-10">succeeded </span>- finished executing successfully (a <span 
class="cmti-10">task succeeded </span>message was received, or the task polled
     as succeeded).
     </li>
     <li class="itemize"><span 
class="cmbx-10">failed </span>- aborted execution due to some error condition (a <span 
class="cmti-10">task failed </span>message was received, or the task
     polled as failed).
     </li>
     <li class="itemize"><span 
class="cmbx-10">retrying </span>- job execution failed, but an execution retry was configured. Will only enter the <span 
class="cmti-10">failed </span>state
     if all configured execution retries are exhausted.
     </li>
     <li class="itemize"><span 
class="cmbx-10">runahead </span>- will not have prerequisites checked (and so automatically held, in effect) until the rest of
     the suite catches up sufficiently. The amount of runahead allowed is configurable - see &#x00A0;<a 
href="#x15-23600013.16">13.16<!--tex4ht:ref: RunaheadLimit --></a>.
                                                                                         

                                                                                         
     </li>
     <li class="itemize"><span 
class="cmbx-10">expired </span>- will not be submitted to run, due to falling too far behind the wall-clock relative to its cycle
     point - see&#x00A0;<a 
href="cug-htmlse9.html#x11-1120009.3.5.15">9.3.5.15<!--tex4ht:ref: ClockExpireTasks --></a>.
     </li></ul>
<!--l. 7407--><p class="noindent" >
<!--l. 7407--><p class="noindent" > <h4 id="13.14" class="subsectionHead"> <span class="titlemark"> <a href="#13.14"> 13.14</a>  <a 
 id="x15-23400013.14"></a>What The Suite Control GUI Shows </span></h4>
<!--l. 7409--><p class="noindent" >The GUI Text-tree and Dot Views display the state of every task proxy present in the task pool. Once a task has
succeeded and Cylc has determined that it can no longer be needed to satisfy the prerequisites of other tasks,
its proxy will be cleaned up (removed from the pool) and it will disappear from the GUI. To rerun
a task that has disappeared from the pool, you need to re-insert its task proxy and then re-trigger
it.
<!--l. 7416--><p class="noindent" >The Graph View is slightly different: it displays the complete dependency graph over the range of cycle points
currently present in the task pool. This often includes some greyed-out <span 
class="cmti-10">base </span>or <span 
class="cmti-10">ghost nodes </span>that are empty -
i.e.&#x00A0;there are no corresponding task proxies currently present in the pool. Base nodes just flesh out the graph
structure. Groups of them may be cut out and replaced by single <span 
class="cmti-10">scissor nodes </span>in sections of the graph that are
currently inactive.
<!--l. 7425--><p class="noindent" >
<!--l. 7425--><p class="noindent" > <h4 id="13.15" class="subsectionHead"> <span class="titlemark"> <a href="#13.15"> 13.15</a>  <a 
 id="x15-23500013.15"></a>Network Connection Timeouts </span></h4>
<!--l. 7427--><p class="noindent" >A connection timeout can be set in site and user global config files (see&#x00A0;<a 
href="cug-htmlse6.html#x8-250006">6<!--tex4ht:ref: SiteAndUserConfiguration --></a>) so that messaging commands cannot hang
indefinitely if the suite is not responding (this can be caused by suspending a suite with Ctrl-Z) thereby preventing
the task from completing. The same can be done on the command line for other suite-connecting user commands,
with the <span class="lstinline"></span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">comms</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">timeout</span> option.
<!--l. 7434--><p class="noindent" >
<!--l. 7434--><p class="noindent" > <h4 id="13.16" class="subsectionHead"> <span class="titlemark"> <a href="#13.16"> 13.16</a>  <a 
 id="x15-23600013.16"></a>Runahead Limiting </span></h4>
<!--l. 7437--><p class="noindent" >Runahead limiting prevents the fastest tasks in a suite from getting too far ahead of the slowest ones. Newly
spawned tasks are released to the task pool only when they fall below the runahead limit. A low runhead limit can
prevent cylc from interleaving cycles, but it will not stall a suite unless it fails to extend out past a future trigger
(see&#x00A0;<a 
href="cug-htmlse9.html#x11-1080009.3.5.11">9.3.5.11<!--tex4ht:ref: InterCyclePointTriggers --></a>). A high runahead limit may allow fast tasks that are not constrained by dependencies or clock-triggers
to spawn far ahead of the pack, which could have performance implications for the suite server program
when running very large suites. Succeeded and failed tasks are ignored when computing the runahead
limit.
<!--l. 7448--><p class="noindent" >The preferred runahead limiting mechanism restricts the number of consecutive active cycle points. The default
value is three active cycle points; see&#x00A0;<a 
href="cug-htmlse15.html#x17-319000A.4.8">A.4.8<!--tex4ht:ref: max active cycle points --></a>. Alternatively the interval between the slowest and fastest tasks can be
specified as hard limit; see&#x00A0;<a 
href="cug-htmlse15.html#x17-318000A.4.7">A.4.7<!--tex4ht:ref: runahead limit --></a>.
                                                                                         

                                                                                         
<!--l. 7454--><p class="noindent" >
<!--l. 7454--><p class="noindent" > <h4 id="13.17" class="subsectionHead"> <span class="titlemark"> <a href="#13.17"> 13.17</a>  <a 
 id="x15-23700013.17"></a>Limiting Activity With Internal Queues </span></h4>
<!--l. 7457--><p class="noindent" >Large suites can potentially overwhelm task hosts by submitting too many tasks at once. You can prevent this with
<span 
class="cmti-10">internal queues</span>, which limit the number of tasks that can be active (submitted or running) at the same
time.
<!--l. 7462--><p class="noindent" >Internal queues behave in the first-in-first-out (FIFO) manner, i.e.&#x00A0;tasks are released from a queue in the same order
that they were queued.
<!--l. 7465--><p class="noindent" >A queue is defined by a <span 
class="cmti-10">name</span>; a <span 
class="cmti-10">limit</span>, which is the maximum number of active tasks allowed for the queue; and a
list of <span 
class="cmti-10">members</span>, assigned by task or family name.
<!--l. 7469--><p class="noindent" >Queue configuration is done under the [scheduling] section of the suite.rc file (like dependencies, internal queues
constrain <span 
class="cmti-10">when </span>a task runs).
<!--l. 7472--><p class="noindent" >By default every task is assigned to the <span 
class="cmti-10">default </span>queue, which by default has a zero limit (interpreted by cylc as no
limit). To use a single queue for the whole suite just set the default queue limit:  <!--l. 7476-->
<div class="lstlisting" id="listing-281"><span class="label"><a 
 id="x15-237001r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">scheduling</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">queues</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237003r3"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">limit</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">the</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">entire</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">suite</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">to</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">5</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">active</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">tasks</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">at</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">once</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237004r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">default</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237005r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">limit</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">5</span>
</div>
<!--l. 7483--><p class="noindent" >To use additional queues just name each one, set their limits, and assign members: <!--l. 7485-->
<div class="lstlisting" id="listing-282"><span class="label"><a 
 id="x15-237006r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">scheduling</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237007r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">queues</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237008r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">q_foo</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237009r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">limit</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">5</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237010r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">members</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">bar</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">baz</span>
</div>
<!--l. 7492--><p class="noindent" >Any tasks not assigned to a particular queue will remain in the default queue. The <span 
class="cmti-10">queues </span>example suite illustrates
how queues work by running two task trees side by side (as seen in the graph GUI) each limited to 2 and 3 tasks
respectively:  <!--l. 7497--><div class="lstinputlisting">
<a 
 id="x15-237011"></a>
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237012r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">meta</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237013r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">title</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">demonstrates</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">internal</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">queueing</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237014r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">description</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237015r4"></a></span><span 
class="pcrr7t-">Two</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">trees</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">of</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">tasks</span><span 
class="pcrr7t-">:</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">the</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">first</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">uses</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">the</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">default</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">queue</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">set</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">to</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">a</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">limit</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">of</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237016r5"></a></span><span 
class="pcrr7t-">two</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">active</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">tasks</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">at</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">once</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">the</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">second</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">uses</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">another</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">queue</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">limited</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">to</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">three</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237017r6"></a></span><span 
class="pcrr7t-">active</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">tasks</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">at</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">once</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">Run</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">via</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">the</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">graph</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">control</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">GUI</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">for</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">a</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">clear</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">view</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237018r7"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237019r8"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">scheduling</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237020r9"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">queues</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237021r10"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">default</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237022r11"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">limit</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">2</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237023r12"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237024r13"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">limit</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">3</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237025r14"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">members</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">n</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">o</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">p</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">FAM2</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">u</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">v</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">w</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">x</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">y</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">z</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237026r15"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">dependencies</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237027r16"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">graph</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237028r17"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">a</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">b</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">c</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">FAM1</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237029r18"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">n</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">o</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">p</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">FAM2</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237030r19"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">FAM1</span><span 
class="pcrr7t-">:</span><span 
class="pcrr7t-">succeed</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">all</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">h</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">i</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">j</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">k</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">l</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">m</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237031r20"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">FAM2</span><span 
class="pcrr7t-">:</span><span 
class="pcrr7t-">succeed</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">all</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">u</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">v</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">w</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">x</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">y</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">z</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237032r21"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237033r22"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">runtime</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237034r23"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">FAM1</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">FAM2</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237035r24"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">d</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">e</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">f</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">g</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237036r25"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">inherit</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">FAM1</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237037r26"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">q</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">r</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">s</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">t</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-237038r27"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">inherit</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">FAM2</span>
</div>
<!--l. 7499--><p class="noindent" >
<!--l. 7499--><p class="noindent" > <h4 id="13.18" class="subsectionHead"> <span class="titlemark"> <a href="#13.18"> 13.18</a>  <a 
 id="x15-23800013.18"></a>Automatic Task Retry On Failure </span></h4>
<!--l. 7502--><p class="noindent" >See also&#x00A0;<a 
href="cug-htmlse15.html#x17-361000A.5.1.12.6">A.5.1.12.6<!--tex4ht:ref: RefRetries --></a> in the <span 
class="cmti-10">Suite.rc Reference</span>.
<!--l. 7504--><p class="noindent" >Tasks can be configured with a list of &#8220;retry delay&#8221; intervals, as ISO 8601 durations. If the task job fails it will go
into the <span 
class="cmti-10">retrying </span>state and resubmit after the next configured delay interval. An example is shown in the suite listed
below under&#x00A0;<a 
href="#x15-23900013.19">13.19<!--tex4ht:ref: EventHandling --></a>.
<!--l. 7509--><p class="noindent" >If a task with configured retries is <span 
class="cmti-10">killed </span>(by <span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">kill</span> or via the GUI) it goes to the <span 
class="cmti-10">held </span>state so that the
operator can decide whether to release it and continue the retry sequence or to abort the retry sequence by
manually resetting it to the <span 
class="cmti-10">failed </span>state.
                                                                                         

                                                                                         
<!--l. 7514--><p class="noindent" >
<!--l. 7514--><p class="noindent" > <h4 id="13.19" class="subsectionHead"> <span class="titlemark"> <a href="#13.19"> 13.19</a>  <a 
 id="x15-23900013.19"></a>Task Event Handling </span></h4>
<!--l. 7517--><p class="noindent" >See also&#x00A0;<a 
href="cug-htmlse15.html#x17-281000A.3.13">A.3.13<!--tex4ht:ref: SuiteEventHandling --></a> and&#x00A0;<a 
href="cug-htmlse15.html#x17-371000A.5.1.14">A.5.1.14<!--tex4ht:ref: TaskEventHandling --></a> in the <span 
class="cmti-10">Suite.rc Reference</span>.
<!--l. 7520--><p class="noindent" >Cylc can call nominated event handlers - to do whatever you like - when certain suite or task events occur. This
facilitates centralized alerting and automated handling of critical events. Event handlers can be used to send a
message, call a pager, or whatever; they can even intervene in the operation of their own suite using cylc
commands.
<!--l. 7526--><p class="noindent" >To send an email, use the built-in setting <span class="lstinline"></span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">events</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">mail</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">events</span> to specify a list of events for which
notifications should be sent. (The name of a registered task output can also be used as an event name in this case.)
E.g.&#x00A0;to send an email on (submission) failed and retry:
<!--l. 7532-->
<div class="lstlisting" id="listing-283"><span class="label"><a 
 id="x15-239001r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">runtime</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-239002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-239003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">script</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-239004r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">test</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">CYLC_TASK_TRY_NUMBER</span><span 
class="pcrr7t-">}</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">eq</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">3</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-239005r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">message</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">CYLC_SUITE_NAME</span><span 
class="pcrr7t-">}</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">CYLC_TASK_JOB</span><span 
class="pcrr7t-">}</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">oopsy</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">daisy</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-239006r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-239007r7"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">events</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-239008r8"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">mail</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">events</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">submission</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">failed</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">submission</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">retry</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">failed</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">retry</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">oops</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-239009r9"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">job</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-239010r10"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">execution</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">retry</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">delays</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">PT0S</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">PT30S</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-239011r11"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">outputs</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-239012r12"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">oops</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">oopsy</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">daisy</span>
</div>
<!--l. 7547--><p class="noindent" >By default, the emails will be sent to the current user with:
     <ul class="itemize1">
     <li class="itemize"><span class="lstinline"></span><span 
class="pcrr7t-">to</span><span 
class="pcrr7t-">:</span> set as <span class="lstinline"></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">USER</span>
     </li>
     <li class="itemize"><span class="lstinline"></span><span 
class="pcrr7t-">from</span><span 
class="pcrr7t-">:</span> set as <span class="lstinline"></span><span 
class="pcrr7t-">notifications@</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">hostname</span><span 
class="pcrr7t-">)</span>
     </li>
     <li class="itemize">SMTP server at <span class="lstinline"></span><span 
class="pcrr7t-">localhost</span><span 
class="pcrr7t-">:25</span></li></ul>
<!--l. 7555--><p class="noindent" >These can be configured using the settings:
     <ul class="itemize1">
     <li class="itemize"><span class="lstinline"></span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">events</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">mail</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">to</span> (list of email addresses),
     </li>
     <li class="itemize"><span class="lstinline"></span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">events</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">mail</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">from</span>
     </li>
     <li class="itemize"><span class="lstinline"></span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">events</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">mail</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">smtp</span>.</li></ul>
<!--l. 7562--><p class="noindent" >By default, a cylc suite will send you no more than one task event email every 5 minutes - this is to prevent your
inbox from being flooded by emails should a large group of tasks all fail at similar time. See &#x00A0;<a 
href="cug-htmlse15.html#x17-276000A.3.8">A.3.8<!--tex4ht:ref: task-event-mail-interval --></a> for
details.
<!--l. 7567--><p class="noindent" >Event handlers can be located in the suite <span class="lstinline"></span><span 
class="pcrr7t-">bin</span><span 
class="pcrr7t-">/</span> directory; otherwise it is up to you to ensure their location is in
<span class="lstinline"></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">PATH</span> (in the shell in which the suite server program runs). They should require little resource and return quickly -
see&#x00A0;<a 
href="#x15-24100013.20">13.20<!--tex4ht:ref: Managing External Command Execution --></a>.
<!--l. 7572--><p class="noindent" >Task event handlers can be specified using the <span class="lstinline"></span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">events</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x003C;</span><span 
class="pcrr7t-">event</span><span 
class="pcrr7t-">&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">handler</span> settings, where <span class="lstinline"></span><span 
class="pcrr7t-">&#x003C;</span><span 
class="pcrr7t-">event</span><span 
class="pcrr7t-">&#x003E;</span> is one
of:
     <ul class="itemize1">
     <li class="itemize">&#8216;submitted&#8217; - the job submit command was successful
     </li>
     <li class="itemize">&#8216;submission failed&#8217; - the job submit command failed
     </li>
     <li class="itemize">&#8216;submission timeout&#8217; - task job submission timed out
                                                                                         

                                                                                         
     </li>
     <li class="itemize">&#8216;submission retry&#8217; - task job submission failed, but will retry after a configured delay
     </li>
     <li class="itemize">&#8216;started&#8217; - the task reported commencement of execution
     </li>
     <li class="itemize">&#8216;succeeded&#8217; - the task reported successful completion
     </li>
     <li class="itemize">&#8216;warning&#8217; - the task reported a WARNING severity message
     </li>
     <li class="itemize">&#8216;critical&#8217; - the task reported a CRITICAL severity message
     </li>
     <li class="itemize">&#8216;custom&#8217; - the task reported a CUSTOM severity message
     </li>
     <li class="itemize">&#8216;late&#8217; - the task is never active and is late
     </li>
     <li class="itemize">&#8216;failed&#8217; - the task failed
     </li>
     <li class="itemize">&#8216;retry&#8217; - the task failed but will retry after a configured delay
     </li>
     <li class="itemize">&#8216;execution timeout&#8217; - task execution timed out</li></ul>
<!--l. 7592--><p class="noindent" >The value of each setting should be a list of command lines or command line templates (see below).
<!--l. 7595--><p class="noindent" >Alternatively you can use <span class="lstinline"></span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">events</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">handlers</span> and <span class="lstinline"></span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">events</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">handler</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">events</span>, where the former is
a list of command lines or command line templates (see below) and the latter is a list of events for which these
commands should be invoked. (The name of a registered task output can also be used as an event name in this
case.)
<!--l. 7601--><p class="noindent" >Event handler arguments can be constructed from various templates representing suite name; task ID, name, cycle
point, message, and submit number name; and any suite or task [meta] item. See&#x00A0;<a 
href="cug-htmlse15.html#x17-281000A.3.13">A.3.13<!--tex4ht:ref: SuiteEventHandling --></a> and&#x00A0;<a 
href="cug-htmlse15.html#x17-371000A.5.1.14">A.5.1.14<!--tex4ht:ref: TaskEventHandling --></a> for
options.
<!--l. 7606--><p class="noindent" >If no template arguments are supplied the following default command line will be used: <!--l. 7608-->
<div class="lstlisting" id="listing-284"><span class="label"><a 
 id="x15-239013r1"></a></span><span 
class="pcrr7t-">&#x003C;</span><span 
class="pcrr7t-">task</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">event</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">handler</span><span 
class="pcrr7t-">&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">%(</span><span 
class="pcrr7t-">event</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">s</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">%(</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">s</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">%(</span><span 
class="pcrr7t-">id</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">s</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">%(</span><span 
class="pcrr7t-">message</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">s</span>
</div>
<!--l. 7612--><p class="noindent" ><span 
class="cmti-10">Note: substitution patterns should not be quoted in the template strings. This is done automatically where</span>
<span 
class="cmti-10">required.</span>
<!--l. 7615--><p class="noindent" >For an explanation of the substitution syntax, see <a 
href="https://docs.python.org/2/library/stdtypes.html#string-formatting" >String Formatting Operations</a> in the Python documentation.
<!--l. 7619--><p class="noindent" >The retry event occurs if a task fails and has any remaining retries configured (see&#x00A0;<a 
href="#x15-23800013.18">13.18<!--tex4ht:ref: TaskRetries --></a>). The event handler will be
called as soon as the task fails, not after the retry delay period when it is resubmitted.
<!--l. 7624--><p class="noindent" ><span 
class="cmti-10">Note that event handlers are called by the suite server program, not by task jobs. </span>If you wish to pass additional
information to them use [cylc] <span 
class="tcrm-1000">&#x2192;</span>[[environment]], not task runtime environment.
<!--l. 7628--><p class="noindent" >The following 2 <span class="lstinline"></span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">rc</span> snippets are examples on how to specify event handlers using the alternate
methods:
<!--l. 7632-->
<div class="lstlisting" id="listing-285"><span class="label"><a 
 id="x15-239014r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">runtime</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-239015r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-239016r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">script</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">test</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">CYLC_TASK_TRY_NUMBER</span><span 
class="pcrr7t-">}</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">eq</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">2</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-239017r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">events</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-239018r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">retry</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">handler</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">echo</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">'!!!!!</span><span 
class="pcrr7t-">EVENT</span><span 
class="pcrr7t-">!!!!!'</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-239019r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">failed</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">handler</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">echo</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">'!!!!!</span><span 
class="pcrr7t-">EVENT</span><span 
class="pcrr7t-">!!!!!'</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-239020r7"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">job</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-239021r8"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">execution</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">retry</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">delays</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">PT0S</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">PT30S</span>
                                                                                         

                                                                                         
</div>
<!--l. 7644-->
<div class="lstlisting" id="listing-286"><span class="label"><a 
 id="x15-239022r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">runtime</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-239023r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-239024r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">script</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-239025r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">test</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">CYLC_TASK_TRY_NUMBER</span><span 
class="pcrr7t-">}</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">eq</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">2</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-239026r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">message</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">CYLC_SUITE_NAME</span><span 
class="pcrr7t-">}</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">CYLC_TASK_JOB</span><span 
class="pcrr7t-">}</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">oopsy</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">daisy</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-239027r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-239028r7"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">events</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-239029r8"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">handlers</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">echo</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">'!!!!!</span><span 
class="pcrr7t-">EVENT</span><span 
class="pcrr7t-">!!!!!'</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-239030r9"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">Note</span><span 
class="pcrro7t-">:</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">task</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">output</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">name</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">can</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">be</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">used</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">as</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">an</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">event</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">in</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">this</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">method</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-239031r10"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">handler</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">events</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">retry</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">failed</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">oops</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-239032r11"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">job</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-239033r12"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">execution</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">retry</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">delays</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">PT0S</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">PT30S</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-239034r13"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">outputs</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-239035r14"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">oops</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">oopsy</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">daisy</span>
</div>
<!--l. 7660--><p class="noindent" >The handler command here - specified with no arguments - is called with the default arguments, like this:
<!--l. 7662-->
<div class="lstlisting" id="listing-287"><span class="label"><a 
 id="x15-239036r1"></a></span><span 
class="pcrr7t-">echo</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">'!!!!!</span><span 
class="pcrr7t-">EVENT</span><span 
class="pcrr7t-">!!!!!'</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">%(</span><span 
class="pcrr7t-">event</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">s</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">%(</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">s</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">%(</span><span 
class="pcrr7t-">id</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">s</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">%(</span><span 
class="pcrr7t-">message</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">s</span>
</div>
<!--l. 7666--><p class="noindent" >
<!--l. 7666--><p class="noindent" > <h4 id="13.19.1" class="subsubsectionHead"><span class="titlemark"> <a href="#13.19.1"> 13.19.1</a>  <a 
 id="x15-24000013.19.1"></a>Late Events </span></h4>
<!--l. 7669--><p class="noindent" >You may want to be notified when certain tasks are running late in a real time production system - i.e.&#x00A0;when they have
not triggered by <span 
class="cmti-10">the usual time</span>. Tasks of primary interest are not normally clock-triggered however, so their trigger times
are mostly a function of how the suite runs in its environment, and even external factors such as contention with other
suites.<span class="footnote-mark"><a 
href="#fn4x0" id="fn4x0-bk"><sup class="textsuperscript">4</sup></a></span><a 
 id="x15-240001f4"></a>
<!--l. 7679--><p class="noindent" >But if your system is reasonably stable from one cycle to the next such that a given task has consistently triggered
by some interval beyond its cycle point, you can configure Cylc to emit a <span 
class="cmti-10">late event </span>if it has not triggered by that
time. For example, if a task <span class="lstinline"></span><span 
class="pcrr7t-">forecast</span> normally triggers by 30 minutes after its cycle point, configure late
notification for it like this:
<!--l. 7685-->
<div class="lstlisting" id="listing-288"><span class="label"><a 
 id="x15-240002r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">runtime</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-240003r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">forecast</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-240004r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">script</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">model</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">sh</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-240005r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">events</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-240006r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">late</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">offset</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">PT30M</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-240007r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">late</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">handler</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">my</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">handler</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">%(</span><span 
class="pcrr7t-">message</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">s</span>
</div>
<!--l. 7694--><p class="noindent" ><span 
class="cmti-10">Late offset intervals are not computed automatically so be careful to update them after any change that affects</span>
<span 
class="cmti-10">triggering times.</span>
<!--l. 7697--><p class="noindent" >Note that Cylc can only check for lateness in tasks that it is currently aware of. If a suite gets delayed over
many cycles the next tasks coming up can be identified as late immediately, and subsequent tasks
can be identified as late as the suite progresses to subsequent cycle points, until it catches up to the
clock.
<!--l. 7703--><p class="noindent" >
<!--l. 7703--><p class="noindent" > <h4 id="13.20" class="subsectionHead"> <span class="titlemark"> <a href="#13.20"> 13.20</a>  <a 
 id="x15-24100013.20"></a>Managing External Command Execution </span></h4>
<!--l. 7706--><p class="noindent" >Job submission commands, event handlers, and job poll and kill commands, are executed by the suite server
program in a &#8220;pool&#8221; of asynchronous subprocesses, in order to avoid holding the suite up. The process pool is
actively managed to limit it to a configurable size (<a 
href="cug-htmlse16.html#x18-429000B.1.2">B.1.2<!--tex4ht:ref: process pool size --></a>). Custom event handlers should be light-weight and
quick-running because they will tie up a process pool member until they complete, and the suite will appear to stall
                                                                                         

                                                                                         
if the pool is saturated with long-running processes. Processes are killed after a configurable timeout
(<a 
href="cug-htmlse16.html#x18-430000B.1.3">B.1.3<!--tex4ht:ref: process pool timeout --></a>) however, to guard against rogue commands that hang indefinitely. All process kills are logged by
the suite server program. For killed job submissions the associated tasks also go to the <span 
class="cmti-10">submit-failed</span>
state.
<!--l. 7718--><p class="noindent" >
<!--l. 7718--><p class="noindent" > <h4 id="13.21" class="subsectionHead"> <span class="titlemark"> <a href="#13.21"> 13.21</a>  <a 
 id="x15-24200013.21"></a>Handling Job Preemption </span></h4>
<!--l. 7721--><p class="noindent" >Some HPC facilities allow job preemption: the resource manager can kill or suspend running low priority jobs in
order to make way for high priority jobs. The preempted jobs may then be automatically restarted by the
resource manager, from the same point (if suspended) or requeued to run again from the start (if
killed).
<!--l. 7727--><p class="noindent" >Suspended jobs will poll as still running (their job status file says they started running, and they still appear in the
resource manager queue). Loadleveler jobs that are preempted by kill-and-requeue (&#8221;job vacation&#8221;) are
automatically returned to the submitted state by Cylc. This is possible because Loadleveler sends the SIGUSR1
signal before SIGKILL for preemption. Other batch schedulers just send SIGTERM before SIGKILL as normal, so
Cylc cannot distinguish a preemption job kill from a normal job kill. After this the job will poll as failed (correctly,
because it was killed, and the job status file records that). To handle this kind of preemption automatically you
could use a task failed or retry event handler that queries the batch scheduler queue (after an appropriate delay if
necessary) and then, if the job has been requeued, uses <span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">reset</span> to reset the task to the submitted
state.
<!--l. 7740--><p class="noindent" >
<!--l. 7740--><p class="noindent" > <h4 id="13.22" class="subsectionHead"> <span class="titlemark"> <a href="#13.22"> 13.22</a>  <a 
 id="x15-24300013.22"></a>Manual Task Triggering and Edit-Run </span></h4>
<!--l. 7742--><p class="noindent" >Any task proxy currently present in the suite can be manually triggered at any time using the <span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">trigger</span>
command, or from the right-click task menu in gcylc. If the task belongs to a limited internal queue (see&#x00A0;<a 
href="#x15-23700013.17">13.17<!--tex4ht:ref: InternalQueues --></a>), this
will queue it; if not, or if it is already queued, it will submit immediately.
<!--l. 7748--><p class="noindent" >With <span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">trigger</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">edit</span> (also in the gcylc right-click task menu) you can edit the generated task job script
to make one-off changes before the task submits.
<!--l. 7752--><p class="noindent" >
<!--l. 7752--><p class="noindent" > <h4 id="13.23" class="subsectionHead"> <span class="titlemark"> <a href="#13.23"> 13.23</a>  <a 
 id="x15-24400013.23"></a>Cylc Broadcast </span></h4>
<!--l. 7755--><p class="noindent" >The <span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">broadcast</span> command overrides <span class="lstinline"></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">runtime</span><span 
class="pcrr7t-">]</span> settings in a running suite. This can be used to
communicate information to downstream tasks by broadcasting environment variables (communication of
information from one task to another normally takes place via the filesystem, i.e.&#x00A0;the input/output file relationships
embodied in inter-task dependencies). Variables (and any other runtime settings) may be broadcast to all
subsequent tasks, or targeted specifically at a specific task, all subsequent tasks with a given name, or all tasks with
a given cycle point; see broadcast command help for details.
<!--l. 7766--><p class="noindent" >Broadcast settings targeted at a specific task ID or cycle point expire and are forgotten as the suite
moves on. Un-targeted variables and those targeted at a task name persist throughout the suite run,
even across restarts, unless manually cleared using the broadcast command - and so should be used
                                                                                         

                                                                                         
sparingly.
<!--l. 7772--><p class="noindent" >
<!--l. 7772--><p class="noindent" > <h4 id="13.24" class="subsectionHead"> <span class="titlemark"> <a href="#13.24"> 13.24</a>  <a 
 id="x15-24500013.24"></a>The Meaning And Use Of Initial Cycle Point </span></h4>
<!--l. 7774--><p class="noindent" >When a suite is started with the <span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">run</span> command (cold or warm start) the cycle point at which it starts can be
given on the command line or hardwired into the suite.rc file: <!--l. 7777-->
<div class="lstlisting" id="listing-289"><span class="label"><a 
 id="x15-245001r1"></a></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">20120808</span><span 
class="pcrr7t-">T06Z</span>
</div>
<!--l. 7780--><p class="noindent" >or: <!--l. 7781-->
<div class="lstlisting" id="listing-290"><span class="label"><a 
 id="x15-245002r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">scheduling</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-245003r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">initial</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cycle</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">point</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">20100808</span><span 
class="pcrr7t-">T06Z</span>
</div>
<!--l. 7785--><p class="noindent" >An initial cycle given on the command line will override one in the suite.rc file.
<!--l. 7788--><p class="noindent" >
<!--l. 7788--><p class="noindent" > <h4 id="13.24.1" class="subsubsectionHead"><span class="titlemark"> <a href="#13.24.1"> 13.24.1</a>  <a 
 id="x15-24600013.24.1"></a>The Environment Variable CYLC_SUITE_INITIAL_CYCLE_POINT </span></h4>
<!--l. 7790--><p class="noindent" >In the case of a <span 
class="cmti-10">cold start only </span>the initial cycle point is passed through to task execution environments as
<span class="lstinline"></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">CYLC_SUITE_INITIAL_CYCLE_POINT</span>. The value is then stored in suite database files and persists across
restarts, but it does get wiped out (set to <span class="lstinline"></span><span 
class="pcrr7t-">None</span>) after a warm start, because a warm start is really an
implicit restart in which all state information is lost (except that the previous cycle is assumed to have
completed).
<!--l. 7798--><p class="noindent" >The <span class="lstinline"></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">CYLC_SUITE_INITIAL_CYCLE_POINT</span> variable allows tasks to determine if they are running in the initial
cold-start cycle point, when different behaviour may be required, or in a normal mid-run cycle point. Note
however that an initial <span class="lstinline"></span><span 
class="pcrr7t-">R1</span> graph section is now the preferred way to get different behaviour at suite
start-up.
<!--l. 7804--><p class="noindent" >
<!--l. 7804--><p class="noindent" > <h4 id="13.25" class="subsectionHead"> <span class="titlemark"> <a href="#13.25"> 13.25</a>  <a 
 id="x15-24700013.25"></a>Simulating Suite Behaviour </span></h4>
<!--l. 7807--><p class="noindent" >Several suite run modes allow you to simulate suite behaviour quickly without running the suite&#8217;s real jobs - which
may be long-running and resource-hungry:
     <ul class="itemize1">
     <li class="itemize"><span 
class="cmti-10">dummy mode </span>- runs dummy tasks as background jobs on configured job hosts.
         <ul class="itemize2">
         <li class="itemize">simulates scheduling, job host connectivity, and generates all job files on suite and job hosts.</li></ul>
                                                                                         

                                                                                         
     </li>
     <li class="itemize"><span 
class="cmti-10">dummy-local mode </span>- runs real dummy tasks as background jobs on the suite host, which allows
     dummy-running suites from other sites.
         <ul class="itemize2">
         <li class="itemize">simulates scheduling and generates all job files on the suite host.</li></ul>
     </li>
     <li class="itemize"><span 
class="cmti-10">simulation mode </span>- does not run any real tasks.
         <ul class="itemize2">
         <li class="itemize">simulates scheduling without generating any job files.</li></ul>
     </li></ul>
<!--l. 7829--><p class="noindent" >Set the run mode (default <span 
class="cmti-10">live</span>) in the GUI suite start dialog box, or on the command line:  <!--l. 7832-->
<div class="lstlisting" id="listing-291"><span class="label"><a 
 id="x15-247001r1"></a></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">mode</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">dummy</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">SUITE</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-247002r2"></a></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">restart</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">mode</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">dummy</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">SUITE</span>
</div>
<!--l. 7837--><p class="noindent" >You can get specified tasks to fail in these modes, for more flexible suite testing. See Section&#x00A0;<a 
href="cug-htmlse15.html#x17-403000A.5.1.21">A.5.1.21<!--tex4ht:ref: suiterc-sim-config --></a> for simulation
configuration.
<!--l. 7840--><p class="noindent" >
<!--l. 7840--><p class="noindent" > <h4 id="13.25.1" class="subsubsectionHead"><span class="titlemark"> <a href="#13.25.1"> 13.25.1</a>  <a 
 id="x15-24800013.25.1"></a>Proportional Simulated Run Length </span></h4>
<!--l. 7842--><p class="noindent" >If task <span class="lstinline"></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">job</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">execution</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">time</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">limit</span> is set, Cylc divides it by <span class="lstinline"></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">simulation</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">speedup</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">factor</span> (default
<span class="lstinline"></span><span 
class="pcrr7t-">10.0</span>) to compute simulated task run lengths (default 10 seconds).
<!--l. 7846--><p class="noindent" >
<!--l. 7846--><p class="noindent" > <h4 id="13.25.2" class="subsubsectionHead"><span class="titlemark"> <a href="#13.25.2"> 13.25.2</a>  <a 
 id="x15-24900013.25.2"></a>Limitations Of Suite Simulation </span></h4>
<!--l. 7848--><p class="noindent" >Dummy mode ignores batch scheduler settings because Cylc does not know which job resource directives (requested
memory, number of compute nodes, etc.) would need to be changed for the dummy jobs. If you need to dummy-run
jobs on a batch scheduler manually comment out <span class="lstinline"></span><span 
class="pcrr7t-">script</span> items and modify directives in your live suite, or else use
a custom live mode test suite.
<!--l. 7854--><p class="noindent" >Note that the dummy modes ignore all configured task <span class="lstinline"></span><span 
class="pcrr7t-">script</span> items including <span class="lstinline"></span><span 
class="pcrr7t-">init</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">script</span>. If your
<span class="lstinline"></span><span 
class="pcrr7t-">init</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">script</span> is required to run even dummy tasks on a job host, note that host environment setup should be done
elsewhere - see&#x00A0;<a 
href="cug-htmlse3.html#x5-160003.3.3">3.3.3<!--tex4ht:ref: Configure Site Environment on Job Hosts --></a>.
<!--l. 7859--><p class="noindent" >
<!--l. 7859--><p class="noindent" > <h4 id="13.25.3" class="subsubsectionHead"><span class="titlemark"> <a href="#13.25.3"> 13.25.3</a>  <a 
 id="x15-25000013.25.3"></a>Restarting Suites With A Different Run Mode? </span></h4>
<!--l. 7861--><p class="noindent" >The run mode is recorded in the suite run database files. Cylc will not let you <span 
class="cmti-10">restart </span>a non-live mode suite in live
mode, or vice versa. To test a live suite in simulation mode just take a quick copy of it and run the the copy in
simulation mode.
                                                                                         

                                                                                         
<!--l. 7866--><p class="noindent" >
<!--l. 7866--><p class="noindent" > <h4 id="13.26" class="subsectionHead"> <span class="titlemark"> <a href="#13.26"> 13.26</a>  <a 
 id="x15-25100013.26"></a>Automated Reference Test Suites </span></h4>
<!--l. 7869--><p class="noindent" >Reference tests are finite-duration suite runs that abort with non-zero exit status if any of the following conditions
occur (by default):
     <ul class="itemize1">
     <li class="itemize">cylc fails
     </li>
     <li class="itemize">any task fails
     </li>
     <li class="itemize">the suite times out (e.g.&#x00A0;a task dies without reporting failure)
     </li>
     <li class="itemize">a nominated shutdown event handler exits with error status</li></ul>
<!--l. 7879--><p class="noindent" >The default shutdown event handler for reference tests is <span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">hook</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">check</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">triggering</span> which compares task
triggering information (what triggers off what at run time) in the test run suite log to that from an earlier reference
run, disregarding the timing and order of events - which can vary according to the external queueing conditions,
runahead limit, and so on.
<!--l. 7886--><p class="noindent" >To prepare a reference log for a suite, run it with the <span class="lstinline"></span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">reference</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">log</span> option, and manually verify the
correctness of the reference run.
<!--l. 7890--><p class="noindent" >To reference test a suite, just run it (in dummy mode for the most comprehensive test without running real tasks)
with the <span class="lstinline"></span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">reference</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">test</span> option.
<!--l. 7894--><p class="noindent" >A battery of automated reference tests is used to test cylc before posting a new release version. Reference tests can
also be used to check that a cylc upgrade will not break your own complex suites - the triggering check will catch
any bug that causes a task to run when it shouldn&#8217;t, for instance; even in a dummy mode reference test
the full task job script (sans <span class="lstinline"></span><span 
class="pcrr7t-">script</span> items) executes on the proper task host by the proper batch
system.
<!--l. 7902--><p class="noindent" >Reference tests can be configured with the following settings:  <!--l. 7904-->
<div class="lstlisting" id="listing-292"><span class="label"><a 
 id="x15-251001r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-251002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">reference</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">test</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-251003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">shutdown</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">event</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">handler</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">check</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">triggering</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-251004r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">required</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">mode</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dummy</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-251005r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">allow</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">task</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">failures</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">False</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-251006r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">live</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">mode</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">timeout</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">PT5M</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-251007r7"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dummy</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">mode</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">timeout</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">PT2M</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-251008r8"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">simulation</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">mode</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">timeout</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">PT2M</span>
</div>
<!--l. 7915--><p class="noindent" >
<!--l. 7915--><p class="noindent" > <h4 id="13.26.1" class="subsubsectionHead"><span class="titlemark"> <a href="#13.26.1"> 13.26.1</a>  <a 
 id="x15-25200013.26.1"></a>Roll-your-own Reference Tests </span></h4>
<!--l. 7917--><p class="noindent" >If the default reference test is not sufficient for your needs, firstly note that you can override the default shutdown
event handler, and secondly that the <span class="lstinline"></span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">reference</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">test</span> option is merely a short cut to the following suite.rc
settings which can also be set manually if you wish:
<!--l. 7924-->
<div class="lstlisting" id="listing-293"><span class="label"><a 
 id="x15-252001r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-252002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">abort</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">if</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">any</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">task</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">fails</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">True</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-252003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">events</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-252004r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">shutdown</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">handler</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">check</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">triggering</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-252005r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">timeout</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">PT5M</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-252006r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">abort</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">if</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">shutdown</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">handler</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">fails</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">True</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-252007r7"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">abort</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">on</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">timeout</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">True</span>
                                                                                         

                                                                                         
</div>
<!--l. 7934--><p class="noindent" >
<!--l. 7934--><p class="noindent" > <h4 id="13.27" class="subsectionHead"> <span class="titlemark"> <a href="#13.27"> 13.27</a>  <a 
 id="x15-25300013.27"></a>Triggering Off Of Tasks In Other Suites </span></h4>
<!--l. 7937--><p class="noindent" ><span 
class="cmti-10">NOTE: please read </span>External Triggers <span 
class="cmti-10">(</span><a 
href="cug-htmlse12.html#x14-19200012"><span 
class="cmti-10">12</span><!--tex4ht:ref: External Triggers --></a><span 
class="cmti-10">) before using the older inter-suite triggering mechanism described in this</span>
<span 
class="cmti-10">section.</span>
<!--l. 7940--><p class="noindent" >The <span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">state</span> command interrogates suite run databases. It has a polling mode that waits for a given
task in the target suite to achieve a given state, or receive a given message. This can be used to make task scripting
wait for a remote task to succeed (for example).
<!--l. 7945--><p class="noindent" >Automatic suite-state polling tasks can be defined with in the graph. They get automatically-generated task
scripting that uses <span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">state</span> appropriately (it is an error to give your own <span class="lstinline"></span><span 
class="pcrr7t-">script</span> item for these
tasks).
<!--l. 7950--><p class="noindent" >Here&#8217;s how to trigger a task <span class="lstinline"></span><span 
class="pcrr7t-">bar</span> off a task <span class="lstinline"></span><span 
class="pcrr7t-">foo</span> in a remote suite called <span class="lstinline"></span><span 
class="pcrr7t-">other</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">suite</span>: <!--l. 7952-->
<div class="lstlisting" id="listing-294"><span class="label"><a 
 id="x15-253001r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">scheduling</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-253002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">dependencies</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-253003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">T00</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">T12</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-253004r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">graph</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">my</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">&#x003C;</span><span 
class="pcrr7t-">other</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">::</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">bar</span><span 
class="pcrr7t-">"</span>
</div>
<!--l. 7958--><p class="noindent" >Local task <span class="lstinline"></span><span 
class="pcrr7t-">my</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">foo</span> will poll for the success of <span class="lstinline"></span><span 
class="pcrr7t-">foo</span> in suite <span class="lstinline"></span><span 
class="pcrr7t-">other</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">suite</span>, at the same cycle point, succeeding only
when or if it succeeds. Other task states can also be polled: <!--l. 7961-->
<div class="lstlisting" id="listing-295"><span class="label"><a 
 id="x15-253005r1"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">graph</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">my</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">&#x003C;</span><span 
class="pcrr7t-">other</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">::</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">:</span><span 
class="pcrr7t-">fail</span><span 
class="pcrr7t-">&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">bar</span><span 
class="pcrr7t-">"</span>
</div>
<!--l. 7965--><p class="noindent" >The default polling parameters (e.g.&#x00A0;maximum number of polls and the interval between them) are printed by
<span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">state</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">help</span> and can be configured if necessary under the local polling task runtime section:
<!--l. 7968-->
<div class="lstlisting" id="listing-296"><span class="label"><a 
 id="x15-253006r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">scheduling</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-253007r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dependencies</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-253008r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">T00</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">T12</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-253009r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">graph</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">my</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">&#x003C;</span><span 
class="pcrr7t-">other</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">::</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">bar</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-253010r5"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">runtime</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-253011r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">my</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-253012r7"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">state</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">polling</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-253013r8"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">max</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">polls</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">100</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-253014r9"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">interval</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">PT10S</span>
</div>
<!--l. 7980--><p class="noindent" >To poll for the target task to receive a message rather than achieve a state, give the message in the runtime
configuration (in which case the task status inferred from the graph syntax will be ignored):
<!--l. 7984-->
<div class="lstlisting" id="listing-297"><span class="label"><a 
 id="x15-253015r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">runtime</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-253016r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">my</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-253017r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">state</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">polling</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-253018r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">message</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">the</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">quick</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">brown</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">fox</span><span 
class="pcrr7t-">"</span>
</div>
<!--l. 7991--><p class="noindent" >For suites owned by others, or those with run databases in non-standard locations, use the <span class="lstinline"></span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">dir</span> option, or
in-suite: <!--l. 7993-->
<div class="lstlisting" id="listing-298"><span class="label"><a 
 id="x15-253019r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">runtime</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-253020r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">my</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-253021r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">state</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">polling</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-253022r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">dir</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">path</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">to</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">top</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">level</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">directory</span>
                                                                                         

                                                                                         
</div>
<!--l. 8000--><p class="noindent" >If the remote task has a different cycling sequence, just arrange for the local polling task to be on the same sequence
as the remote task that it represents. For instance, if local task <span class="lstinline"></span><span 
class="pcrr7t-">cat</span> cycles 6-hourly at <span class="lstinline"></span><span 
class="pcrr7t-">0,6,12,18</span> but needs to
trigger off a remote task <span class="lstinline"></span><span 
class="pcrr7t-">dog</span> at <span class="lstinline"></span><span 
class="pcrr7t-">3,9,15,21</span>: <!--l. 8005-->
<div class="lstlisting" id="listing-299"><span class="label"><a 
 id="x15-253023r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">scheduling</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-253024r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">dependencies</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-253025r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">T03</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">T09</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">T15</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">T21</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-253026r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">graph</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">my</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">dog</span><span 
class="pcrr7t-">&#x003C;</span><span 
class="pcrr7t-">other</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">::</span><span 
class="pcrr7t-">dog</span><span 
class="pcrr7t-">&#x003E;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-253027r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">T00</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">T06</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">T12</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">T18</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-253028r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">graph</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">my</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">dog</span><span 
class="pcrr7t-">[-</span><span 
class="pcrr7t-">PT3H</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cat</span><span 
class="pcrr7t-">"</span>
</div>
<!--l. 8014--><p class="noindent" >For suite-state polling, the cycle point is automatically converted to the cycle point format of the target
suite.
<!--l. 8017--><p class="noindent" >The remote suite does not have to be running when polling commences because the command interrogates the suite
run database, not the suite server program.
<!--l. 8020--><p class="noindent" >Note that the graph syntax for suite polling tasks cannot be combined with cycle point offsets, family triggers, or
parameterized task notation. This does not present a problem because suite polling tasks can be put on the same
cycling sequence as the remote-suite target task (as recommended above), and there is no point in having multiple
tasks (family members or parameterized tasks) performing the same polling operation. Task state triggers
can be used with suite polling, e.g.&#x00A0;to trigger another task if polling fails after 10 tries at 10 second
intervals:
<!--l. 8029-->
<div class="lstlisting" id="listing-300"><span class="label"><a 
 id="x15-253029r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">scheduling</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-253030r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">dependencies</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-253031r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">graph</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">poller</span><span 
class="pcrr7t-">&#x003C;</span><span 
class="pcrr7t-">other</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">::</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">:</span><span 
class="pcrr7t-">succeed</span><span 
class="pcrr7t-">&#x003E;:</span><span 
class="pcrr7t-">fail</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">another</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">task</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-253032r4"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">runtime</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-253033r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">my</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-253034r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">state</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">polling</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-253035r7"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">max</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">polls</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">10</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-253036r8"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">interval</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">PT10S</span>
</div>
<!--l. 8040--><p class="noindent" >
<!--l. 8040--><p class="noindent" > <h4 id="13.28" class="subsectionHead"> <span class="titlemark"> <a href="#13.28"> 13.28</a>  <a 
 id="x15-25400013.28"></a>Suite Server Logs </span></h4>
<!--l. 8043--><p class="noindent" >Each suite maintains its own log of time-stamped events under the <span 
class="cmti-10">suite server log directory</span>:
<!--l. 8046-->
<div class="lstlisting" id="listing-301"><span class="label"><a 
 id="x15-254001r1"></a></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">HOME</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">SUITE</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">NAME</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">log</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">/</span>
</div>
<!--l. 8050--><p class="noindent" >By way of example, we will show the complete server log generated (at cylc-7.2.0) by a small suite that runs
two 30-second dummy tasks <span class="lstinline"></span><span 
class="pcrr7t-">foo</span> and <span class="lstinline"></span><span 
class="pcrr7t-">bar</span> for a single cycle point <span class="lstinline"></span><span 
class="pcrr7t-">2017-01-01</span><span 
class="pcrr7t-">T00Z</span> before shutting
down:
<!--l. 8056-->
<div class="lstlisting" id="listing-302"><span class="label"><a 
 id="x15-254002r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-254003r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cycle</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">point</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">format</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">Y</span><span 
class="pcrr7t-">-%</span><span 
class="pcrr7t-">m</span><span 
class="pcrr7t-">-%</span><span 
class="pcrr7t-">dT</span><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">HZ</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-254004r3"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">scheduling</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-254005r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">initial</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cycle</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">point</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">2017-01-01</span><span 
class="pcrr7t-">T00Z</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-254006r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">final</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cycle</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">point</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">2017-01-01</span><span 
class="pcrr7t-">T00Z</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-254007r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">dependencies</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-254008r7"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">graph</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">bar</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-254009r8"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">runtime</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-254010r9"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-254011r10"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">script</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">sleep</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">30;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">bin</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">false</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-254012r11"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">bar</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-254013r12"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">script</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">sleep</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">30;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">bin</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">true</span>
</div>
                                                                                         

                                                                                         
<!--l. 8071--><p class="noindent" >By the task scripting defined above, this suite will stall when <span class="lstinline"></span><span 
class="pcrr7t-">foo</span> fails. Then, the suite owner <span 
class="cmti-10">vagrant@cylon</span>
manually resets the failed task&#8217;s state to <span 
class="cmti-10">succeeded</span>, allowing <span class="lstinline"></span><span 
class="pcrr7t-">bar</span> to trigger and the suite to finish and shut down.
Here&#8217;s the complete suite log for this run:
<!--l. 8077-->
<div class="lstlisting" id="listing-303"><span class="label"><a 
 id="x15-254014r1"></a></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cat</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">log</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">SUITE</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">NAME</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-254015r2"></a></span><span 
class="pcrr7t-">2017-03-30</span><span 
class="pcrr7t-">T09</span><span 
class="pcrr7t-">:46:10</span><span 
class="pcrr7t-">Z</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">INFO</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">Suite</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">starting</span><span 
class="pcrr7t-">:</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">server</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">localhost</span><span 
class="pcrr7t-">:43086</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pid</span><span 
class="pcrr7t-">=3483</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-254016r3"></a></span><span 
class="pcrr7t-">2017-03-30</span><span 
class="pcrr7t-">T09</span><span 
class="pcrr7t-">:46:10</span><span 
class="pcrr7t-">Z</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">INFO</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">Run</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">mode</span><span 
class="pcrr7t-">:</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">live</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-254017r4"></a></span><span 
class="pcrr7t-">2017-03-30</span><span 
class="pcrr7t-">T09</span><span 
class="pcrr7t-">:46:10</span><span 
class="pcrr7t-">Z</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">INFO</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">Initial</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">point</span><span 
class="pcrr7t-">:</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">2017-01-01</span><span 
class="pcrr7t-">T00Z</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-254018r5"></a></span><span 
class="pcrr7t-">2017-03-30</span><span 
class="pcrr7t-">T09</span><span 
class="pcrr7t-">:46:10</span><span 
class="pcrr7t-">Z</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">INFO</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">Final</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">point</span><span 
class="pcrr7t-">:</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">2017-01-01</span><span 
class="pcrr7t-">T00Z</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-254019r6"></a></span><span 
class="pcrr7t-">2017-03-30</span><span 
class="pcrr7t-">T09</span><span 
class="pcrr7t-">:46:10</span><span 
class="pcrr7t-">Z</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">INFO</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">Cold</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">Start</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">2017-01-01</span><span 
class="pcrr7t-">T00Z</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-254020r7"></a></span><span 
class="pcrr7t-">2017-03-30</span><span 
class="pcrr7t-">T09</span><span 
class="pcrr7t-">:46:11</span><span 
class="pcrr7t-">Z</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">INFO</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">.2017-01-01</span><span 
class="pcrr7t-">T00Z</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">submit_method_id</span><span 
class="pcrr7t-">=3507</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-254021r8"></a></span><span 
class="pcrr7t-">2017-03-30</span><span 
class="pcrr7t-">T09</span><span 
class="pcrr7t-">:46:11</span><span 
class="pcrr7t-">Z</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">INFO</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">.2017-01-01</span><span 
class="pcrr7t-">T00Z</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">submission</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">succeeded</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-254022r9"></a></span><span 
class="pcrr7t-">2017-03-30</span><span 
class="pcrr7t-">T09</span><span 
class="pcrr7t-">:46:11</span><span 
class="pcrr7t-">Z</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">INFO</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">.2017-01-01</span><span 
class="pcrr7t-">T00Z</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-(</span><span 
class="pcrr7t-">current</span><span 
class="pcrr7t-">:</span><span 
class="pcrr7t-">submitted</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">started</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">at</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">2017-03-30</span><span 
class="pcrr7t-">T09</span><span 
class="pcrr7t-">:46:10</span><span 
class="pcrr7t-">Z</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-254023r10"></a></span><span 
class="pcrr7t-">2017-03-30</span><span 
class="pcrr7t-">T09</span><span 
class="pcrr7t-">:46:41</span><span 
class="pcrr7t-">Z</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">CRITICAL</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">.2017-01-01</span><span 
class="pcrr7t-">T00Z</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-(</span><span 
class="pcrr7t-">current</span><span 
class="pcrr7t-">:</span><span 
class="pcrr7t-">running</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">failed</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">EXIT</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">at</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">2017-03-30</span><span 
class="pcrr7t-">T09</span><span 
class="pcrr7t-">:46:40</span><span 
class="pcrr7t-">Z</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-254024r11"></a></span><span 
class="pcrr7t-">2017-03-30</span><span 
class="pcrr7t-">T09</span><span 
class="pcrr7t-">:46:42</span><span 
class="pcrr7t-">Z</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">WARNING</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">stalled</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-254025r12"></a></span><span 
class="pcrr7t-">2017-03-30</span><span 
class="pcrr7t-">T09</span><span 
class="pcrr7t-">:46:42</span><span 
class="pcrr7t-">Z</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">WARNING</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">Unmet</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">prerequisites</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">for</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">bar</span><span 
class="pcrr7t-">.2017-01-01</span><span 
class="pcrr7t-">T00Z</span><span 
class="pcrr7t-">:</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-254026r13"></a></span><span 
class="pcrr7t-">2017-03-30</span><span 
class="pcrr7t-">T09</span><span 
class="pcrr7t-">:46:42</span><span 
class="pcrr7t-">Z</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">WARNING</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">.2017-01-01</span><span 
class="pcrr7t-">T00Z</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">succeeded</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-254027r14"></a></span><span 
class="pcrr7t-">2017-03-30</span><span 
class="pcrr7t-">T09</span><span 
class="pcrr7t-">:47:58</span><span 
class="pcrr7t-">Z</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">INFO</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">client</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">command</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">reset_task_states</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">vagrant@cylon</span><span 
class="pcrr7t-">:</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">reset</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">1</span><span 
class="pcrr7t-">e0d8e9f</span><span 
class="pcrr7t-">-2833-4</span><span 
class="pcrr7t-">dc9</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">a0c8</span><span 
class="pcrr7t-">-9</span><span 
class="pcrr7t-">cf263c4c8c3</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-254028r15"></a></span><span 
class="pcrr7t-">2017-03-30</span><span 
class="pcrr7t-">T09</span><span 
class="pcrr7t-">:47:58</span><span 
class="pcrr7t-">Z</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">INFO</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">.2017-01-01</span><span 
class="pcrr7t-">T00Z</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">resetting</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">state</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">to</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">succeeded</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-254029r16"></a></span><span 
class="pcrr7t-">2017-03-30</span><span 
class="pcrr7t-">T09</span><span 
class="pcrr7t-">:47:58</span><span 
class="pcrr7t-">Z</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">INFO</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">Command</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">succeeded</span><span 
class="pcrr7t-">:</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">reset_task_states</span><span 
class="pcrr7t-">([</span><span 
class="pcrr7t-">u</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">.2017'],</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">state</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">succeeded</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-254030r17"></a></span><span 
class="pcrr7t-">2017-03-30</span><span 
class="pcrr7t-">T09</span><span 
class="pcrr7t-">:47:59</span><span 
class="pcrr7t-">Z</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">INFO</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">bar</span><span 
class="pcrr7t-">.2017-01-01</span><span 
class="pcrr7t-">T00Z</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">submit_method_id</span><span 
class="pcrr7t-">=3565</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-254031r18"></a></span><span 
class="pcrr7t-">2017-03-30</span><span 
class="pcrr7t-">T09</span><span 
class="pcrr7t-">:47:59</span><span 
class="pcrr7t-">Z</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">INFO</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">bar</span><span 
class="pcrr7t-">.2017-01-01</span><span 
class="pcrr7t-">T00Z</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">submission</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">succeeded</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-254032r19"></a></span><span 
class="pcrr7t-">2017-03-30</span><span 
class="pcrr7t-">T09</span><span 
class="pcrr7t-">:47:59</span><span 
class="pcrr7t-">Z</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">INFO</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">bar</span><span 
class="pcrr7t-">.2017-01-01</span><span 
class="pcrr7t-">T00Z</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-(</span><span 
class="pcrr7t-">current</span><span 
class="pcrr7t-">:</span><span 
class="pcrr7t-">submitted</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">started</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">at</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">2017-03-30</span><span 
class="pcrr7t-">T09</span><span 
class="pcrr7t-">:47:58</span><span 
class="pcrr7t-">Z</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-254033r20"></a></span><span 
class="pcrr7t-">2017-03-30</span><span 
class="pcrr7t-">T09</span><span 
class="pcrr7t-">:48:29</span><span 
class="pcrr7t-">Z</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">INFO</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">bar</span><span 
class="pcrr7t-">.2017-01-01</span><span 
class="pcrr7t-">T00Z</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-(</span><span 
class="pcrr7t-">current</span><span 
class="pcrr7t-">:</span><span 
class="pcrr7t-">running</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">succeeded</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">at</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">2017-03-30</span><span 
class="pcrr7t-">T09</span><span 
class="pcrr7t-">:48:28</span><span 
class="pcrr7t-">Z</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-254034r21"></a></span><span 
class="pcrr7t-">2017-03-30</span><span 
class="pcrr7t-">T09</span><span 
class="pcrr7t-">:48:30</span><span 
class="pcrr7t-">Z</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">INFO</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">Waiting</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">for</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">the</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">command</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">process</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pool</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">to</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">empty</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">for</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">shutdown</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-254035r22"></a></span><span 
class="pcrr7t-">2017-03-30</span><span 
class="pcrr7t-">T09</span><span 
class="pcrr7t-">:48:30</span><span 
class="pcrr7t-">Z</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">INFO</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">Suite</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">shutting</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">down</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">AUTOMATIC</span>
</div>
<!--l. 8102--><p class="noindent" >The information logged here includes:
     <ul class="itemize1">
     <li class="itemize">event timestamps, at the start of each line
     </li>
     <li class="itemize">suite server host, port and process ID
     </li>
     <li class="itemize">suite initial and final cycle points
     </li>
     <li class="itemize">suite start type (cold start in this case)
     </li>
     <li class="itemize">task events (task started, succeeded, failed, etc.)
     </li>
     <li class="itemize">suite stalled warning (in this suite nothing else can run when <span class="lstinline"></span><span 
class="pcrr7t-">foo</span> fails)
     </li>
     <li class="itemize">the client command issued by <span 
class="cmti-10">vagrant@cylon </span>to reset <span class="lstinline"></span><span 
class="pcrr7t-">foo</span> to <span 
class="cmti-10">succeeded</span>
     </li>
     <li class="itemize">job IDs - in this case process IDs for background jobs (or PBS job IDs etc.)
     </li>
     <li class="itemize">state changes due to incoming task progress message (&#8221;started at ...&#8221; etc.) suite shutdown time and
     reasons (AUTOMATIC means &#8221;all tasks finished and nothing else to do&#8221;)</li></ul>
<!--l. 8121--><p class="noindent" >Note that suite log files are primarily intended for human eyes. If you need to have an external system to monitor
suite events automatically, interrogate the sqlite <span 
class="cmti-10">suite run database </span>(see&#x00A0;<a 
href="#x15-25500013.29">13.29<!--tex4ht:ref: Suite Run Databases --></a>) rather than parse the log
files.
<!--l. 8126--><p class="noindent" >
<!--l. 8126--><p class="noindent" > <h4 id="13.29" class="subsectionHead"> <span class="titlemark"> <a href="#13.29"> 13.29</a>  <a 
 id="x15-25500013.29"></a>Suite Run Databases </span></h4>
<!--l. 8129--><p class="noindent" >Suite server programs maintain two <span class="lstinline"></span><span 
class="pcrr7t-">sqlite</span> databases to record restart checkpoints and various other aspects of
run history:
<!--l. 8133-->
<div class="lstlisting" id="listing-304"><span class="label"><a 
 id="x15-255001r1"></a></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">HOME</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">SUITE</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">NAME</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">log</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">db</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">#</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">public</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">DB</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-255002r2"></a></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">HOME</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">SUITE</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">NAME</span><span 
class="pcrr7t-">/.</span><span 
class="pcrr7t-">service</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">db</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">#</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">private</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">DB</span>
</div>
                                                                                         

                                                                                         
<!--l. 8138--><p class="noindent" >The private DB is for use only by the suite server program. The identical public DB is provided for use by external
commands such as <span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">state</span>, <span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">ls</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">checkpoints</span>, and <span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">report</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">timings</span>. If the public
DB gets locked for too long by an external reader, the suite server program will eventually delete
it and replace it with a new copy of the private DB, to ensure that both correctly reflect the suite
state.
<!--l. 8146--><p class="noindent" >You can interrogate the public DB with the <span class="lstinline"></span><span 
class="pcrr7t-">sqlite3</span> command line tool, the <span class="lstinline"></span><span 
class="pcrr7t-">sqlite3</span> module in the Python
standard library, or any other sqlite interface.
<!--l. 8150-->
<div class="lstlisting" id="listing-305"><span class="label"><a 
 id="x15-255003r1"></a></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">sqlite3</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">~/</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">log</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">db</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x003C;&#x003C;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">_END_</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-255004r2"></a></span><span 
class="pcrr7t-">&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">headers</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">on</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-255005r3"></a></span><span 
class="pcrr7t-">&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">select</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x22C6;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">from</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">task_events</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">where</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">name</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">is</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-255006r4"></a></span><span 
class="pcrr7t-">&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">_END_</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-255007r5"></a></span><span 
class="pcrr7t-">name</span><span 
class="pcrr7t-">|</span><span 
class="pcrr7t-">cycle</span><span 
class="pcrr7t-">|</span><span 
class="pcrr7t-">time</span><span 
class="pcrr7t-">|</span><span 
class="pcrr7t-">submit_num</span><span 
class="pcrr7t-">|</span><span 
class="pcrr7t-">event</span><span 
class="pcrr7t-">|</span><span 
class="pcrr7t-">message</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-255008r6"></a></span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">|1|2017-03-12</span><span 
class="pcrr7t-">T11</span><span 
class="pcrr7t-">:06:09</span><span 
class="pcrr7t-">Z</span><span 
class="pcrr7t-">|1|</span><span 
class="pcrr7t-">submitted</span><span 
class="pcrr7t-">|</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-255009r7"></a></span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">|1|2017-03-12</span><span 
class="pcrr7t-">T11</span><span 
class="pcrr7t-">:06:09</span><span 
class="pcrr7t-">Z</span><span 
class="pcrr7t-">|1|</span><span 
class="pcrr7t-">output</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">completed</span><span 
class="pcrr7t-">|</span><span 
class="pcrr7t-">started</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-255010r8"></a></span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">|1|2017-03-12</span><span 
class="pcrr7t-">T11</span><span 
class="pcrr7t-">:06:09</span><span 
class="pcrr7t-">Z</span><span 
class="pcrr7t-">|1|</span><span 
class="pcrr7t-">started</span><span 
class="pcrr7t-">|</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-255011r9"></a></span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">|1|2017-03-12</span><span 
class="pcrr7t-">T11</span><span 
class="pcrr7t-">:06:19</span><span 
class="pcrr7t-">Z</span><span 
class="pcrr7t-">|1|</span><span 
class="pcrr7t-">output</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">completed</span><span 
class="pcrr7t-">|</span><span 
class="pcrr7t-">succeeded</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-255012r10"></a></span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">|1|2017-03-12</span><span 
class="pcrr7t-">T11</span><span 
class="pcrr7t-">:06:19</span><span 
class="pcrr7t-">Z</span><span 
class="pcrr7t-">|1|</span><span 
class="pcrr7t-">succeeded</span><span 
class="pcrr7t-">|</span>
</div>
<!--l. 8163--><p class="noindent" >
<!--l. 8163--><p class="noindent" > <h4 id="13.30" class="subsectionHead"> <span class="titlemark"> <a href="#13.30"> 13.30</a>  <a 
 id="x15-25600013.30"></a>Disaster Recovery </span></h4>
<!--l. 8166--><p class="noindent" >If a suite run directory gets deleted or corrupted, the options for recovery are:
     <ul class="itemize1">
     <li class="itemize">restore the run directory from back-up, and restart the suite
     </li>
     <li class="itemize">re-install from source, and warm start from the beginning of the current cycle point</li></ul>
<!--l. 8174--><p class="noindent" >A warm start (see&#x00A0;<a 
href="#x15-20600013.1.2">13.1.2<!--tex4ht:ref: Warm Start --></a>) does not need a suite state checkpoint, but it wipes out prior run history, and it could
re-run a significant number of tasks that had already completed.
<!--l. 8178--><p class="noindent" >To restart the suite, the critical Cylc files that must be restored are:
<!--l. 8181-->
<div class="lstlisting" id="listing-306"><span class="label"><a 
 id="x15-256001r1"></a></span><span 
class="pcrr7t-">#</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">On</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">the</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">host</span><span 
class="pcrr7t-">:</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-256002r2"></a></span><span 
class="pcrr7t-">~/</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">SUITE</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">NAME</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-256003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">rc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">#</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">live</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">configuration</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">located</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">here</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">in</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">Rose</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">suites</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-256004r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">log</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">db</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">#</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">public</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">DB</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">can</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">just</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">be</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">a</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">copy</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">of</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">the</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">private</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">DB</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-256005r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">log</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">rose</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">conf</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">#</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">needed</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">to</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">restart</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">a</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">Rose</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-256006r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">service</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">db</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">#</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">private</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">DB</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-256007r7"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">service</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">source</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">PATH</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">TO</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">SUITE</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">DIR</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">#</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">symlink</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">to</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">live</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">directory</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-256008r8"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-256009r9"></a></span><span 
class="pcrr7t-">#</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">On</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">job</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">hosts</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">if</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">no</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">shared</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">filesystem</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">:</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-256010r10"></a></span><span 
class="pcrr7t-">~/</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">SUITE</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">NAME</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-256011r11"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">log</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">job</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">CYCLE</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">POINT</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">TASK</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">NAME</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">SUBMIT</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">NUM</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">job</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">status</span>
</div>
<!--l. 8195--><p class="noindent" ><span 
class="cmti-10">Note this discussion does not address restoration of files generated and consumed by task jobs at run</span>
<span 
class="cmti-10">time</span>. How suite data is stored and recovered in your environment is a matter of suite and system
design.
<!--l. 8199--><p class="noindent" >In short, you can simply restore the suite service directory, the log directory, and the suite.rc file that is the target of
the symlink in the service directory. The service and log directories will come with extra files that aren&#8217;t strictly
needed for a restart, but that doesn&#8217;t matter - although depending on your log housekeeping the <span class="lstinline"></span><span 
class="pcrr7t-">log</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">job</span> directory
could be huge, so you might want to be selective about that. (Also in a Rose suite, the <span class="lstinline"></span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">rc</span> file does not need
to be restored if you restart with <span class="lstinline"></span><span 
class="pcrr7t-">rose</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">run</span> - which re-installs suite source files to the run
directory).
<!--l. 8209--><p class="noindent" >The public DB is not strictly required for a restart - the suite server program will recreate it if need be - but it is
required by <span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">ls</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">checkpoints</span> if you need to identify the right restart checkpoint.
<!--l. 8214--><p class="noindent" >The job status files are only needed if the restart suite state checkpoint contains active tasks that need to be polled
to determine what happened to them while the suite was down. Without them, polling will fail and those tasks will
need to be manually set to the correct state.
                                                                                         

                                                                                         
<!--l. 8219--><p class="noindent" ><span 
class="cmti-10">WARNING: it is not safe to copy or rsync a potentially-active sqlite DB - the copy might end up corrupted. It is best</span>
<span 
class="cmti-10">to stop the suite before copying a DB, or else write a back-up utility using the official sqlite backup API:</span>
<a 
href="http://www.sqlite.org/backup.html" class="url" ><span 
class="pcrro7t-">http://www.sqlite.org/backup.html</span></a><span 
class="cmti-10">.</span>
<!--l. 8224--><p class="noindent" >
<!--l. 8224--><p class="noindent" > <h4 id="13.31" class="subsectionHead"> <span class="titlemark"> <a href="#13.31"> 13.31</a>  <a 
 id="x15-25700013.31"></a>Auto Stop-Restart </span></h4>
<!--l. 8227--><p class="noindent" >Cylc has the ability to automatically stop suites running on a particular host and optionally, restart them on a
different host. This is useful if a host needs to be taken off-line e.g.&#x00A0;for scheduled maintenance.
<!--l. 8232--><p class="noindent" >This functionality is configured via the following site configuration settings:
     <ul class="itemize1">
     <li class="itemize"><span class="lstinline"></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">hosts</span><span 
class="pcrr7t-">][</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">servers</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">auto</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">restart</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">delay</span>
     </li>
     <li class="itemize"><span class="lstinline"></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">hosts</span><span 
class="pcrr7t-">][</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">servers</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">condemned</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">hosts</span>
     </li>
     <li class="itemize"><span class="lstinline"></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">hosts</span><span 
class="pcrr7t-">][</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">servers</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">hosts</span></li></ul>
<!--l. 8239--><p class="noindent" >The auto stop-restart feature has two modes:
<!--l. 8241--><p class="noindent" >
     <dl class="description"><dt class="description">
<span 
class="cmbx-10">Normal Mode</span> </dt><dd 
class="description">
     <!--l. 8244--><p class="noindent" >When a host is added to the <span class="lstinline"></span><span 
class="pcrr7t-">condemned</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">hosts</span> list, any suites running on that host will automatically
     shutdown then restart selecting a new host from <span class="lstinline"></span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">hosts</span>.
     <!--l. 8248--><p class="noindent" >For safety, before attempting to stop the suite cylc will first wait for any jobs running locally (under
     background or at) to complete.
     <!--l. 8251--><p class="noindent" ><span 
class="cmti-10">In order for Cylc to be able to successfully restart suites the </span><span class="lstinline"></span><span 
class="pcrro7t-">run</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">hosts</span> <span 
class="cmti-10">must all be on a shared</span>
     <span 
class="cmti-10">filesystem.</span>
     </dd><dt class="description">
<span 
class="cmbx-10">Force Mode</span> </dt><dd 
class="description">
     <!--l. 8256--><p class="noindent" >If a host is suffixed with an exclamation mark then Cylc will not attempt to automatically restart the
     suite and any local jobs (running under background or at) will be left running.</dd></dl>
<!--l. 8261--><p class="noindent" >For example in the following configuration any suites running on <span class="lstinline"></span><span 
class="pcrr7t-">foo</span> will attempt to restart on <span class="lstinline"></span><span 
class="pcrr7t-">pub</span> whereas any
suites running on <span class="lstinline"></span><span 
class="pcrr7t-">bar</span> will stop immediately, making no attempt to restart.
<!--l. 8265-->
<div class="lstlisting" id="listing-307"><span class="label"><a 
 id="x15-257001r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">servers</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-257002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">hosts</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pub</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x15-257003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">condemned</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">hosts</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">bar</span><span 
class="pcrr7t-">!</span>
</div>
<!--l. 8271--><p class="noindent" >To prevent large numbers of suites attempting to restart simultaneously the <span class="lstinline"></span><span 
class="pcrr7t-">auto</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">restart</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">delay</span> setting defines
a period of time in seconds. Suites will wait for a random period of time between zero and <span class="lstinline"></span><span 
class="pcrr7t-">auto</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">restart</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">delay</span>
seconds before attempting to stop and restart.
                                                                                         

                                                                                         
<!--l. 8276--><p class="noindent" >At present the auto shutdown-restart functionality can only operate provided that the user hasn&#8217;t
specified any behaviour which is not preserved by <span class="lstinline"></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">restart</span> (e.g.&#x00A0;user specified hold point or
run mode). This caveat will be removed in a future version, currently Cylc will not attempt to auto
shutdown-restart suites which meet this criterion but will log a critical error message to alert the
user.
<!--l. 8283--><p class="noindent" >See the <span class="lstinline"></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">servers</span><span 
class="pcrr7t-">]</span> configuration section (<a 
href="cug-htmlse16.html#x18-491000B.10">B.10<!--tex4ht:ref: global-suite-servers --></a>) for more details.
                                                                                         

                                                                                         
<div class="footnotes"><!--l. 7677--><p class="noindent" ><span class="footnote-mark"><a 
href="#fn4x0-bk" id="fn4x0"><sup class="textsuperscript">4</sup></a></span><span 
class="cmr-8">Late notification of clock-triggered tasks is not very useful in any case because they typically do not depend on other tasks, and as</span>
<span 
class="cmr-8">such they can often trigger on time even if the suite is delayed to the point that downstream tasks are late due to their dependence on</span>
<span 
class="cmr-8">previous-cycle tasks that are delayed.</span>                                                               </div> <!--l. 8286--><div class="crosslinks"><p class="noindent">[<a 
href="cug-htmlse14.html" >next</a>]
[<a 
href="cug-htmlse12.html" >prev</a>] [<a 
href="cug-htmlse12.html#tailcug-htmlse12.html" >prev-tail</a>] [<a 
href="cug-htmlse13.html" >front</a>] [<a 
href="cug-html.html#cug-htmlse13.html" >up</a>] </p></div>
<!--l. 8286--><p class="noindent" ><a 
 id="tailcug-htmlse13.html"></a>  
</body></html> 
