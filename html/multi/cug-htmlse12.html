<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Running Suites</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html,fn-in,2,next --> 
<meta name="src" content="cug-html.tex"> 
<meta name="date" content="2015-02-02 12:57:00"> 
<link rel="stylesheet" type="text/css" href="cug-html.css"> 
</head><body 
>
   <!--l. 5083--><div class="crosslinks"><p class="noindent">[<a 
href="cug-htmlse13.html" >next</a>] [<a 
href="cug-htmlse11.html" >prev</a>] [<a 
href="cug-htmlse11.html#tailcug-htmlse11.html" >prev-tail</a>] [<a 
href="#tailcug-htmlse12.html">tail</a>] [<a 
href="cug-html.html#cug-htmlse12.html" >up</a>] </p></div>
<!--l. 5083--><p class="indent" >    <h3 id="12" class="sectionHead"><span class="titlemark"> <a href="#12">12</a>  <a 
 id="x13-15400012"></a>Running Suites </span></h3> <div class="sectionTOCS">
   &#x00A0;<span class="subsectionToc" >12.1 <a 
href="#x13-15500012.1">Suite Start-up</a></span>
<br />   &#x00A0;<span class="subsectionToc" >12.2 <a 
href="#x13-15900012.2">How Tasks Interact With Running Suites</a></span>
<br />   &#x00A0;<span class="subsectionToc" >12.3 <a 
href="#x13-16100012.3">Alternatives To Polling When Routing Is Blocked</a></span>
<br />   &#x00A0;<span class="subsectionToc" >12.4 <a 
href="#x13-16200012.4">Task Host Communications Configuration</a></span>
<br />   &#x00A0;<span class="subsectionToc" >12.5 <a 
href="#x13-16300012.5">How Commands Interact With Running Suites</a></span>
<br />   &#x00A0;<span class="subsectionToc" >12.6 <a 
href="#x13-16400012.6">Connection Authentication</a></span>
<br />   &#x00A0;<span class="subsectionToc" >12.7 <a 
href="#x13-16600012.7">How Tasks Get Access To Cylc</a></span>
<br />   &#x00A0;<span class="subsectionToc" >12.8 <a 
href="#x13-16700012.8">Restarting Suites</a></span>
<br />   &#x00A0;<span class="subsectionToc" >12.9 <a 
href="#x13-16800012.9">Task States</a></span>
<br />   &#x00A0;<span class="subsectionToc" >12.10 <a 
href="#x13-16900012.10">Remote Control - Passphrases and Network Ports</a></span>
<br />   &#x00A0;<span class="subsectionToc" >12.11 <a 
href="#x13-17000012.11">Network Connection Timeouts</a></span>
<br />   &#x00A0;<span class="subsectionToc" >12.12 <a 
href="#x13-17100012.12">Runahead Limiting</a></span>
<br />   &#x00A0;<span class="subsectionToc" >12.13 <a 
href="#x13-17200012.13">Limiting Active Tasks With Internal Queues</a></span>
<br />   &#x00A0;<span class="subsectionToc" >12.14 <a 
href="#x13-17300012.14">Automatic Task Retry On Failure</a></span>
<br />   &#x00A0;<span class="subsectionToc" >12.15 <a 
href="#x13-17400012.15">Suite And Task Event Handling</a></span>
<br />   &#x00A0;<span class="subsectionToc" >12.16 <a 
href="#x13-17500012.16">Reloading The Suite Definition At Runtime</a></span>
<br />   &#x00A0;<span class="subsectionToc" >12.17 <a 
href="#x13-17600012.17">Handling Job Preemption</a></span>
<br />   &#x00A0;<span class="subsectionToc" >12.18 <a 
href="#x13-17700012.18">Runtime Settings Broadcast and Communication Between Tasks</a></span>
<br />   &#x00A0;<span class="subsectionToc" >12.19 <a 
href="#x13-17800012.19">The Meaning And Use Of Initial Cycle Point</a></span>
<br />   &#x00A0;<span class="subsectionToc" >12.20 <a 
href="#x13-18000012.20">The Simulation And Dummy Run Modes</a></span>
<br />   &#x00A0;<span class="subsectionToc" >12.21 <a 
href="#x13-18200012.21">Automated Reference Test Suites</a></span>
<br />   &#x00A0;<span class="subsectionToc" >12.22 <a 
href="#x13-18400012.22">Triggering Off Tasks In Other Suites</a></span>
   </div>
<!--l. 5086--><p class="indent" >   This chapter currently features a diverse collection of topics related to running suites. Please also see the
Tutorial (<a 
href="cug-htmlse7.html#x8-240007">7<!--tex4ht:ref: Tutorial --></a>) and command documentation (<a 
href="cug-htmlse20.html#x21-396000D">D<!--tex4ht:ref: CommandReference --></a>), and experiment with plenty of examples.
<!--l. 5091--><p class="noindent" >
<!--l. 5091--><p class="indent" >    <h4 id="12.1" class="subsectionHead"> <span class="titlemark"> <a href="#12.1"> 12.1</a>  <a 
 id="x13-15500012.1"></a>Suite Start-up </span></h4>
<!--l. 5094--><p class="indent" >   There are three ways to start a suite running: <span 
class="cmti-10">cold start </span>and <span 
class="cmti-10">warm start</span>, which start from scratch; and <span 
class="cmti-10">restart</span>,
which loads a prior suite state. If a suite does not contain any special cold-start tasks there is no difference between
cold and warm start, except that a warm start should start from a point beyond the original initial cycle point of
the suite. Special cold-start tasks are only needed if you want to be able to cold-start individual tasks again in the
middle of a suite run - see&#x00A0;<a 
href="cug-htmlse9.html#x10-970009.3.4.11">9.3.4.11<!--tex4ht:ref: SpecialColdStartTasks --></a>.
<!--l. 5103--><p class="indent" >   Once a suite is up and running it is typically a restart that is needed most often (but see also <span class="lstinline"><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">reload</span></span>).
Be aware that cold and warm starts wipe out any prior suite state, which prevents returning to a restart if you
decide that&#8217;s what you really intended.
                                                                                         

                                                                                         
<!--l. 5108--><p class="noindent" >
<!--l. 5108--><p class="indent" >    <h4 id="12.1.1" class="subsubsectionHead"><span class="titlemark"> <a href="#12.1.1"> 12.1.1</a>  <a 
 id="x13-15600012.1.1"></a>Cold Start </span></h4>
<!--l. 5110--><p class="indent" >   A cold start is the primary way to start a suite run from scratch:  <!--l. 5112--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-156001r1"></a></span><span 
class="pcrr7t-">shell</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">SUITE</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">INITIAL_CYCLE_POINT</span><span 
class="pcrr7t-">]</span>


   </div>
<!--l. 5115--><p class="indent" >   The initial cycle point may be specified on the command line or in the suite.rc file. The scheduler starts by
loading the first instance of each task at the suite initial cycle point, or at the next valid point for the
task, including any special cold-start tasks (see the note on cold-start tasks at the beginning of this
section).
<!--l. 5121--><p class="noindent" >
<!--l. 5121--><p class="indent" >    <h4 id="12.1.2" class="subsubsectionHead"><span class="titlemark"> <a href="#12.1.2"> 12.1.2</a>  <a 
 id="x13-15700012.1.2"></a>Restart </span></h4>
<!--l. 5123--><p class="indent" >   A restart starts a suite run from the state recorded at the end of a previous run. This allows restarting a suite
that was shut down or killed, without rerunning tasks that were already completed, or which were already submitted
or running when the suite went down.  <!--l. 5128--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-157001r1"></a></span><span 
class="pcrr7t-">shell</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">restart</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">SUITE</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">STATE_FILE</span><span 
class="pcrr7t-">]</span>


   </div>
<!--l. 5131--><p class="indent" >   For a restart, the scheduler starts by loading each task in its recorded state. The most recent state is loaded by
default, but earlier state files can be specified on the command line. Any tasks recorded as &#8216;submitted&#8217;
or &#8216;running&#8217; will be polled automatically to determine what happened to them while the suite was
down.
<!--l. 5137--><p class="noindent" >
<!--l. 5137--><p class="indent" >    <h4 id="12.1.3" class="subsubsectionHead"><span class="titlemark"> <a href="#12.1.3"> 12.1.3</a>  <a 
 id="x13-15800012.1.3"></a>Warm Start </span></h4>
<!--l. 5139--><p class="indent" >   A warm start runs a suite from scratch like a cold start, but from a given cycle point that is later than the
suite&#8217;s initial cycle point. All tasks from the given cycle point will run. It can be considered an inferior alternative to
a restart because it may result in some tasks rerunning. A warm start may be required if a restart is not possible
because the suite state files were accidentally deleted (for instance). The warm start cycle point must be given on
the command line:  <!--l. 5147--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-158001r1"></a></span><span 
class="pcrr7t-">shell</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">warm</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">SUITE</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">START_CYCLE_POINT</span><span 
class="pcrr7t-">]</span>


   </div>
<!--l. 5150--><p class="indent" >   The original suite initial cycle point is preserved, but all tasks and dependencies before the given start cycle
point are ignored.
<!--l. 5153--><p class="indent" >   The scheduler starts by loading a first instance of each task at the warm start cycle point, or at the next valid
point for the task. Special cold-start tasks are loaded in the &#8216;succeeded&#8217; state (this is merely a device to satisfy any
initial dependence on the cold-start tasks, which are assumed not to be needed for a warm start; see the note on
cold-start tasks at the beginning of this section). <span class="lstinline"><span 
class="pcrr7t-">R1</span></span>-type tasks behave exactly the same as other tasks -
if their cycle point is at or later than the given start cycle point, they will run; if not, they will be
ignored.
                                                                                         

                                                                                         
<!--l. 5162--><p class="noindent" >
<!--l. 5162--><p class="indent" >    <h4 id="12.2" class="subsectionHead"> <span class="titlemark"> <a href="#12.2"> 12.2</a>  <a 
 id="x13-15900012.2"></a>How Tasks Interact With Running Suites </span></h4>
<!--l. 5165--><p class="indent" >   Cylc has three ways of tracking the progress of tasks, configured per task host in the site and user
global config files (<a 
href="cug-htmlse6.html#x7-230006">6<!--tex4ht:ref: SiteAndUserConfiguration --></a>). All three methods can be used on different task hosts within the same suite if
necessary.
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x13-159002x1"><span 
class="cmbx-10">task-to-suite messaging: </span>cylc job scripts encapsulate task scripting in a wrapper that automatically invokes
     messaging commands to report progress back to the suite. The messaging commands can be configured to
     work in two different ways:
         <ol  class="enumerate2" >
         <li 
  class="enumerate" id="x13-159004x1"><span 
class="cmbx-10">Pyro: </span>direct messaging via network sockets using Pyro (Python Remote Objects).
         </li>
         <li 
  class="enumerate" id="x13-159006x2"><span 
class="cmbx-10">ssh: </span>for  tasks  hosts  that  block  access  to  the  network  ports  required  by  Pyro,  cylc  can  use
         passwordless ssh to re-invoke task messaging commands on the suite host (where ultimately Pyro
         is still used to connect to the server process).</li></ol>
     </li>
     <li 
  class="enumerate" id="x13-159008x2"><span 
class="cmbx-10">polling: </span>for task hosts that do not allow return routing to the suite host for Pyro or ssh, cylc can poll tasks at
     configurable intervals, using passwordless ssh.</li></ol>
<!--l. 5188--><p class="indent" >   The Pyro communication method is the default because it is the most direct and efficient; the ssh method
inserts an extra step in the process (command re-invocation on the suite host); and task polling is the
least efficient because results are checked at predetermined intervals, not when task events actually
occur.
<!--l. 5194--><p class="noindent" >
<!--l. 5194--><p class="indent" >    <h4 id="12.2.1" class="subsubsectionHead"><span class="titlemark"> <a href="#12.2.1"> 12.2.1</a>  <a 
 id="x13-16000012.2.1"></a>Task Polling </span></h4>
<!--l. 5196--><p class="indent" >   Be careful to avoid spamming task hosts with polling commands. Each poll opens (and then closes) a new ssh
connection.
<!--l. 5199--><p class="indent" >   Polling intervals are configurable under <span class="lstinline"><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">runtime</span><span 
class="pcrr7t-">]</span></span> because they should may depend on the expected execution
time. For instance, a task that typically takes an hour to run might be polled every 10 minutes initially, and then
every minute toward the end of its run. Interval values are used in turn until the last value, which is used repeatedly
until finished:  <!--l. 5207--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-160001r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">runtime</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-160002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-160003r3"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">poll</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">every</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">minute</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">in</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">the</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">'</span><span 
class="pcrro7t-">submitted</span><span 
class="pcrro7t-">'</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">state</span><span 
class="pcrro7t-">:</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-160004r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">submission</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">polling</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">intervals</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">PT1M</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-160005r5"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">poll</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">one</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">minute</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">after</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">foo</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">starts</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">running</span><span 
class="pcrro7t-">,</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">then</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">every</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">10</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-160006r6"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">minutes</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">for</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">50</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">minutes</span><span 
class="pcrro7t-">,</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">then</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">every</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">minute</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">until</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">finished</span><span 
class="pcrro7t-">:</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-160007r7"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">execution</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">polling</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">intervals</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">PT1M</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">5&#x22C6;</span><span 
class="pcrr7t-">PT10M</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">PT1M</span>


   </div>
<!--l. 5216--><p class="indent" >   A list of intervals with optional multipliers can be used for both submission and execution polling, although a
single value is probably sufficient for submission polling. If these items are not configured default values
from site and user global config will be used for the polling task communication method; polling is
not done by default under the other task communications methods (but it can still be used if you
like).
<!--l. 5224--><p class="indent" >   Polling is also done automatically once on job submission and execution timeouts, to see if the timed-out task
has failed or not; and on suite restarts, to see what happened to any tasks that were orphaned when the suite went
down.
<!--l. 5229--><p class="noindent" >
<!--l. 5229--><p class="indent" >    <h4 id="12.3" class="subsectionHead"> <span class="titlemark"> <a href="#12.3"> 12.3</a>  <a 
 id="x13-16100012.3"></a>Alternatives To Polling When Routing Is Blocked </span></h4>
<!--l. 5231--><p class="indent" >   If Pyro and ssh ports are blocked but you don&#8217;t want to use polling from the suite host,
                                                                                         

                                                                                         
     <ul class="itemize1">
     <li class="itemize">it has been suggested that network <span 
class="cmti-10">port forwarding </span>may provide a solution;
     </li>
     <li class="itemize">you may be able to persuade system administrators to provide network routing to one or more dedicated
     cylc servers;
     </li>
     <li class="itemize">it is possible to run cylc itself on HPC login nodes, but depending on what software is installed there
     this may preclude use of the gcylc GUI and suite visualization tools.</li></ul>
<!--l. 5243--><p class="noindent" >
<!--l. 5243--><p class="indent" >    <h4 id="12.4" class="subsectionHead"> <span class="titlemark"> <a href="#12.4"> 12.4</a>  <a 
 id="x13-16200012.4"></a>Task Host Communications Configuration </span></h4>
<!--l. 5245--><p class="indent" >   Here are the default site and user global config items relevant to task state tracking (see these with
<span class="lstinline"><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">get</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">site</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">config</span></span>):
   <!--l. 5249--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162001r1"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">SITE</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">AND</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">USER</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">CONFIG</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162003r3"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">Task</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">messaging</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">settings</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">affect</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">task</span><span 
class="pcrro7t-">-</span><span 
class="pcrro7t-">to</span><span 
class="pcrro7t-">-</span><span 
class="pcrro7t-">suite</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">communications</span><span 
class="pcrro7t-">.</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162004r4"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">task</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">messaging</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162005r5"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">If</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">a</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">message</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">send</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">fails</span><span 
class="pcrro7t-">,</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">retry</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">after</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">this</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">delay</span><span 
class="pcrro7t-">:</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162006r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">retry</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">interval</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">in</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">seconds</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">5</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162007r7"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">If</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">send</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">fails</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">after</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">this</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">many</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">tries</span><span 
class="pcrro7t-">,</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">give</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">up</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">trying</span><span 
class="pcrro7t-">:</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162008r8"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">maximum</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">number</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">of</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">tries</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">7</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162009r9"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162010r10"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">This</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">timeout</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">is</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">the</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">same</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">as</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">--</span><span 
class="pcrro7t-">pyro</span><span 
class="pcrro7t-">-</span><span 
class="pcrro7t-">timeout</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">for</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">user</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">commands</span><span 
class="pcrro7t-">.</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">If</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162011r11"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">set</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">to</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">None</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">(</span><span 
class="pcrro7t-">no</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">timeout</span><span 
class="pcrro7t-">)</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">message</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">send</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">to</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">non</span><span 
class="pcrro7t-">-</span><span 
class="pcrro7t-">responsive</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">suite</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162012r12"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">(</span><span 
class="pcrro7t-">e</span><span 
class="pcrro7t-">.</span><span 
class="pcrro7t-">g</span><span 
class="pcrro7t-">.</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">suspended</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">with</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">Ctrl</span><span 
class="pcrro7t-">-</span><span 
class="pcrro7t-">Z</span><span 
class="pcrro7t-">)</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">could</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">hang</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">indefinitely</span><span 
class="pcrro7t-">.</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162013r13"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">connection</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">timeout</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">in</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">seconds</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">30</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162014r14"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162015r15"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">Pyro</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">is</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">required</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">for</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">communications</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">between</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">cylc</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">clients</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">and</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">servers</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162016r16"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">(</span><span 
class="pcrro7t-">i</span><span 
class="pcrro7t-">.</span><span 
class="pcrro7t-">e</span><span 
class="pcrro7t-">.</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">between</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">suite</span><span 
class="pcrro7t-">-</span><span 
class="pcrro7t-">connecting</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">commands</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">and</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">guis</span><span 
class="pcrro7t-">,</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">and</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">running</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">suite</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162017r17"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">server</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">processes</span><span 
class="pcrro7t-">).</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162018r18"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">pyro</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162019r19"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162020r20"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">Each</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">suite</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">listens</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">on</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">a</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">dedicated</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">network</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">port</span><span 
class="pcrro7t-">.</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162021r21"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">Servers</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">bind</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">on</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">the</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">first</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">port</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">available</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">from</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">the</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">base</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">port</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">up</span><span 
class="pcrro7t-">:</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162022r22"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">SITE</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">ONLY</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162023r23"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">base</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">port</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">7766</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162024r24"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162025r25"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">This</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">sets</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">the</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">maximum</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">number</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">of</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">suites</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">that</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">can</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">run</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">at</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">once</span><span 
class="pcrro7t-">.</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162026r26"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">SITE</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">ONLY</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162027r27"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">maximum</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">number</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">of</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">ports</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">100</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162028r28"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162029r29"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">Port</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">numbers</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">are</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">recorded</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">in</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">this</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">directory</span><span 
class="pcrro7t-">,</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">by</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">suite</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">name</span><span 
class="pcrro7t-">.</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162030r30"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">ports</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">directory</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">HOME</span><span 
class="pcrr7t-">/.</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">ports</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162031r31"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162032r32"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">hosts</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162033r33"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">The</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">default</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">task</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">host</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">is</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">the</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">suite</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">host</span><span 
class="pcrro7t-">,</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">i</span><span 
class="pcrro7t-">.</span><span 
class="pcrro7t-">e</span><span 
class="pcrro7t-">.</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">localhost</span><span 
class="pcrro7t-">:</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162034r34"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">Add</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">task</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">host</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">sections</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">if</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">local</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">defaults</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">are</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">not</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">sufficient</span><span 
class="pcrro7t-">.</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162035r35"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">HOST</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162036r36"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">Method</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">of</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">communication</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">of</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">task</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">progress</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">back</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">to</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">the</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">suite</span><span 
class="pcrro7t-">:</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162037r37"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">1)</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">pyro</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">-</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">direct</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">client</span><span 
class="pcrro7t-">-</span><span 
class="pcrro7t-">server</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">RPC</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">via</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">network</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">ports</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162038r38"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">2)</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">ssh</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">-</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">re</span><span 
class="pcrro7t-">-</span><span 
class="pcrro7t-">invoke</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">pyro</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">messaging</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">commands</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">on</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">suite</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">server</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162039r39"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">3)</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">poll</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">-</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">the</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">suite</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">polls</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">for</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">status</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">of</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">passive</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">tasks</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162040r40"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">Pyro</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">RPC</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">is</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">still</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">required</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">in</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">all</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">cases</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x22C6;</span><span 
class="pcrro7t-">on</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">the</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">suite</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">host</span><span 
class="pcrro7t-">&#x22C6;</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162041r41"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">for</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">cylc</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">clients</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">(</span><span 
class="pcrro7t-">commands</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">etc</span><span 
class="pcrro7t-">.)</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">to</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">communicate</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">with</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">suites</span><span 
class="pcrro7t-">.</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162042r42"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">task</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">communication</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">method</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">pyro</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">or</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">"</span><span 
class="pcrro7t-">ssh</span><span 
class="pcrro7t-">"</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">or</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">"</span><span 
class="pcrro7t-">poll</span><span 
class="pcrro7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162043r43"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">The</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">"</span><span 
class="pcrro7t-">poll</span><span 
class="pcrro7t-">"</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">method</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">sets</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">a</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">default</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">interval</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">here</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">to</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">ensure</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">no</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162044r44"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">tasks</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">are</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">accidentally</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">left</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">unpolled</span><span 
class="pcrro7t-">.</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">You</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">should</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">override</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">this</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162045r45"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">with</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">run</span><span 
class="pcrro7t-">-</span><span 
class="pcrro7t-">length</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">appropriate</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">intervals</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">under</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">task</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">[</span><span 
class="pcrro7t-">runtime</span><span 
class="pcrro7t-">]</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">-</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162046r46"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">which</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">will</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">also</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">result</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">in</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">routine</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">polling</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">to</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">check</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">task</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">health</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162047r47"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">under</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">the</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">pyro</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">or</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">ssh</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">communications</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">methods</span><span 
class="pcrro7t-">.</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-162048r48"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">default</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">polling</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">interval</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">in</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">minutes</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">1.0</span>


   </div>
<!--l. 5300--><p class="noindent" >
<!--l. 5300--><p class="indent" >    <h4 id="12.5" class="subsectionHead"> <span class="titlemark"> <a href="#12.5"> 12.5</a>  <a 
 id="x13-16300012.5"></a>How Commands Interact With Running Suites </span></h4>
<!--l. 5302--><p class="indent" >   User-invoked commands that connect to running suites can also choose between direct communication across
network sockets (Pyro) and re-invocation of commands on the suite host using passwordless ssh (there is a
<span class="lstinline"><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">use</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">ssh</span></span> command option for this purpose).
<!--l. 5307--><p class="indent" >   The gcylc GUI requires direct Pyro connections to its target suite. If that is not possible, run gcylc on the suite
host.
<!--l. 5311--><p class="noindent" >
<!--l. 5311--><p class="indent" >    <h4 id="12.6" class="subsectionHead"> <span class="titlemark"> <a href="#12.6"> 12.6</a>  <a 
 id="x13-16400012.6"></a>Connection Authentication </span></h4>
<!--l. 5314--><p class="indent" >   All Pyro connections to a running suite (task messaging and user-invoked commands) must authenticate with an
arbitrary single line of text in a file called <span class="lstinline"><span 
class="pcrr7t-">passphrase</span></span>, which will be found and used automatically if installed
properly - see below. A secure MD5 checksum, not the raw passphrase, is passed across the network. A random
passphrase is generated in the suite definition directory when a suite is registered, but you can create your own if
you wish.
<!--l. 5322--><p class="indent" >   For ssh task messaging and user command re-invocation, on the other hand, the suite passphrase is
only required on the suite host account but ssh keys must be installed for passwordless connections
instead.
<!--l. 5326--><p class="noindent" >
<!--l. 5326--><p class="indent" >    <h4 id="12.6.1" class="subsubsectionHead"><span class="titlemark"> <a href="#12.6.1"> 12.6.1</a>  <a 
 id="x13-16500012.6.1"></a>Suite Pyro Passphrase Locations </span></h4>
<!--l. 5329--><p class="indent" >   Suite passphrases currently have to be installed manually to all task host accounts that use the Pyro
communication method (see above); and also to accounts used to run commands that interact directly with the suite
via Pyro.
<!--l. 5334--><p class="indent" >   Legal passphrase locations, in order of preference, are:
                                                                                         

                                                                                         
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x13-165002x1"><span class="lstinline"><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">CYLC_SUITE_DEF_PATH</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">passphrase</span></span>
     </li>
     <li 
  class="enumerate" id="x13-165004x2"><span class="lstinline"><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">HOME</span><span 
class="pcrr7t-">/.</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">SUITE_HOST</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">SUITE_OWNER</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">SUITE_NAME</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">passphrase</span></span>
     </li>
     <li 
  class="enumerate" id="x13-165006x3"><span class="lstinline"><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">HOME</span><span 
class="pcrr7t-">/.</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">SUITE_HOST</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">SUITE_NAME</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">passphrase</span></span>
     </li>
     <li 
  class="enumerate" id="x13-165008x4"><span class="lstinline"><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">HOME</span><span 
class="pcrr7t-">/.</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">SUITE_NAME</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">passphrase</span></span></li></ol>
<!--l. 5341--><p class="noindent" >Remote tasks know the location of the remote suite definition directory (if one exists) through their execution
environment. Local (suite host) user command invocations can find the suite definition directory in the suite name
database. Remote user command invocations, however, cannot interrogate the database on the command host
because the suite will not be registered there (cylc cannot assume that the command host shares a common
filesystem with the suite host). Consequently remote command host accounts must have the suite passphrase
installed in one of the secondary locations under <span class="lstinline"><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">HOME</span><span 
class="pcrr7t-">/.</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">/</span></span>.
<!--l. 5352--><p class="noindent" >
<!--l. 5352--><p class="indent" >    <h4 id="12.7" class="subsectionHead"> <span class="titlemark"> <a href="#12.7"> 12.7</a>  <a 
 id="x13-16600012.7"></a>How Tasks Get Access To Cylc </span></h4>
<!--l. 5355--><p class="indent" >   Running tasks need access to cylc via <span class="lstinline"><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">PATH</span></span>, principally for the task messaging commands. To allow this, the
first thing a task job script does is set <span class="lstinline"><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">CYLC_VERSION</span></span> to the cylc version number of the running
suite. If you need to run several suites at once under different incompatible versions of cylc, check
that your site is using the cylc version wrapper (see <span class="lstinline"><span 
class="pcrr7t-">INSTALL</span></span> and <span class="lstinline"><span 
class="pcrr7t-">admin</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">wrapper</span></span> in a cylc
installation) then set <span class="lstinline"><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">CYLC_VERSION</span></span> to the desired version. In the case of developers wishing to run
their own copy of cylc rather than a centrally installed one, set <span class="lstinline"><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">CYLC_HOME</span></span> to point to your cylc
copy.
<!--l. 5366--><p class="indent" >   Access to the cylc executable for different hosts can be configured using the site and user global configuration
files. If the environment for running the cylc executable is only set up correctly in a login shell for a given host, you
can set the <span class="lstinline"><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">hosts</span><span 
class="pcrr7t-">]</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">\</span><span 
class="pcrr7t-">rightarrow</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">HOST</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">\</span><span 
class="pcrr7t-">rightarrow</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">executable</span></span> setting for the relevant host
to <span class="lstinline"><span 
class="pcrr7t-">True</span></span>. (This is the default behaviour.) If the environment is already correct without the login shell, but the cylc
executable is not in <span class="lstinline"><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">PATH</span></span>, then the <span class="lstinline"><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">hosts</span><span 
class="pcrr7t-">]</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">\</span><span 
class="pcrr7t-">rightarrow</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">HOST</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">\</span><span 
class="pcrr7t-">rightarrow</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">executable</span></span>
setting can be used to specify the path to the cylc executable.
<!--l. 5378--><p class="noindent" >
<!--l. 5378--><p class="indent" >    <h4 id="12.8" class="subsectionHead"> <span class="titlemark"> <a href="#12.8"> 12.8</a>  <a 
 id="x13-16700012.8"></a>Restarting Suites </span></h4>
<!--l. 5381--><p class="indent" >   A restarted suite (see <span class="lstinline"><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">restart</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">help</span></span>) is initialized from a previous recorded suite state dump so that
it can carry on from wherever it got to before being shut down or killed.
<!--l. 5385--><p class="indent" >   Tasks that were recorded in the submitted or running states are now automatically polled on restart, to see if
they are still submitted (e.g. waiting in a PBS batch queue or similar), still running, or if they finished (succeeded or
failed) while the suite was down.
<!--l. 5390--><p class="indent" >   Tasks recorded in the failed state at shutdown are not automatically resubmitted on restarting the suite, in case
the underlying problem has not been addressed yet.
<!--l. 5394--><p class="noindent" >
<!--l. 5394--><p class="indent" >    <h4 id="12.9" class="subsectionHead"> <span class="titlemark"> <a href="#12.9"> 12.9</a>  <a 
 id="x13-16800012.9"></a>Task States </span></h4>
<!--l. 5396--><p class="indent" >   As a suite runs its task proxies may pass through the following states:
                                                                                         

                                                                                         
     <ul class="itemize1">
     <li class="itemize"><span 
class="cmbx-10">waiting </span>- prerequisites not satisfied yet (note that clock-triggered tasks also wait on their trigger time).
     </li>
     <li class="itemize"><span 
class="cmbx-10">queued </span>- ready to run (prerequisites satisfied) but temporarily held back by an <span 
class="cmti-10">internal cylc queue</span>
     (see&#x00A0;<a 
href="#x13-17200012.13">12.13<!--tex4ht:ref: InternalQueues --></a>).
     </li>
     <li class="itemize"><span 
class="cmbx-10">held </span>- will not be submitted even if ready to run. Tasks that spawn past the final cycle point are held
     automatically.
     </li>
     <li class="itemize"><span 
class="cmbx-10">ready </span>- ready to run (prerequisites satisfied) and handed to cylc&#8217;s job submission sub-system.
     </li>
     <li class="itemize"><span 
class="cmbx-10">submitted </span>- submitted to run, but not executing yet (could be waiting in an external batch scheduler
     queue).
     </li>
     <li class="itemize"><span 
class="cmbx-10">submit-failed </span>- job submission failed <span 
class="cmti-10">or </span>submitted job killed before commencing execution.
     </li>
     <li class="itemize"><span 
class="cmbx-10">submit-retrying </span>- job submission failed, but a submission retry was configured. Will only enter the
     <span 
class="cmti-10">submit-failed </span>state if all configured submission retries are exhausted.
     </li>
     <li class="itemize"><span 
class="cmbx-10">running </span>- currently executing (a <span 
class="cmti-10">task started </span>message was received, or the task polled as running).
     </li>
     <li class="itemize"><span 
class="cmbx-10">succeeded </span>- finished executing successfully (a <span 
class="cmti-10">task succeeded </span>message was received, or the task polled
     as succeeded).
     </li>
     <li class="itemize"><span 
class="cmbx-10">failed </span>- aborted execution due to some error condition (a <span 
class="cmti-10">task failed </span>message was received, or the task
     polled as failed).
     </li>
     <li class="itemize"><span 
class="cmbx-10">retrying </span>- job execution failed, but an execution retry was configured. Will only enter the <span 
class="cmti-10">failed </span>state
     if all configured execution retries are exhausted.
     </li></ul>
<!--l. 5437--><p class="indent" >   Note that greyed-out &#8220;base graph nodes&#8221; in the gcylc graph view do not represent task states; they are displayed
to fill out the graph structure where corresponding task proxies do not currently exist in the live task
pool.
<!--l. 5442--><p class="indent" >   For manual task state reset purposes <span 
class="cmbx-10">ready </span>is a pseudo-state that means <span 
class="cmti-10">waiting </span>with all prerequisites
satisfied.
<!--l. 5446--><p class="noindent" >
<!--l. 5446--><p class="indent" >    <h4 id="12.10" class="subsectionHead"> <span class="titlemark"> <a href="#12.10"> 12.10</a>  <a 
 id="x13-16900012.10"></a>Remote Control - Passphrases and Network Ports </span></h4>
<!--l. 5449--><p class="indent" >   Connecting to a running suite requires knowing the <span 
class="cmti-10">network port </span>it is listening on, and the <span 
class="cmti-10">suite passphrase </span>to
authenticate with once a connection is made to the port.
<!--l. 5453--><p class="indent" >   Suites write their port number to <span class="lstinline"><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">HOME</span><span 
class="pcrr7t-">/.</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">ports</span><span 
class="pcrr7t-">/&#x003C;</span><span 
class="pcrr7t-">SUITE</span><span 
class="pcrr7t-">&#x003E;</span></span> at start-up, and suite-connecting commands read this file
to get the number.<span class="footnote-mark"><a 
href="#fn5x0" id="fn5x0-bk"><sup class="textsuperscript">5</sup></a></span><a 
 id="x13-169001f5"></a>
An exception to this is the messaging commands called by tasks. Running tasks know the port number from the
execution environment provided by the suite (via the task job script).
<!--l. 5462--><p class="indent" >   So, to connect to a suite running on another account you must install the suite passphrase (<a 
href="#x13-16500012.6.1">12.6.1<!--tex4ht:ref: passphrases --></a>), and configure
passwordless ssh so that the port number can be retrieved from the remote port file. Then use the <span class="lstinline"><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">user</span></span> and
<span class="lstinline"><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">host</span></span> command options to connect:  <!--l. 5468--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-169002r1"></a></span><span 
class="pcrr7t-">shell</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">monitor</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">user</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">USER</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">host</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">HOST</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">SUITE</span>





   </div>
<!--l. 5471--><p class="indent" >   If you know the port number of the target suite, give it on the command line to prevent the port-retrieving ssh
connection being attempted:  <!--l. 5474--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-169003r1"></a></span><span 
class="pcrr7t-">shell</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">monitor</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">user</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">USER</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">host</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">HOST</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">port</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">PORT</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">SUITE</span>


   </div>
<!--l. 5478--><p class="indent" >   Possession of a suite passphrase gives full control over the suite, and ssh access to the port file also implies full
access to the suite host account, so it is recommended that this only be used to interact with your own suites
running on other hosts. We plan to implement finer-grained authentication in the future to allow suite owners to
grant read-only access to others.
<!--l. 5487--><p class="noindent" >
<!--l. 5487--><p class="indent" >    <h4 id="12.11" class="subsectionHead"> <span class="titlemark"> <a href="#12.11"> 12.11</a>  <a 
 id="x13-17000012.11"></a>Network Connection Timeouts </span></h4>
<!--l. 5489--><p class="indent" >   A connection timeout can be set in site and user global config files (see&#x00A0;<a 
href="cug-htmlse6.html#x7-230006">6<!--tex4ht:ref: SiteAndUserConfiguration --></a>) so that messaging commands cannot
hang indefinitely if the suite is not responding (this can be caused by suspending a suite with Ctrl-Z) thereby
preventing the task from completing. The same can be done on the command line for other suite-connecting user
commands, with the <span class="lstinline"><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">pyro</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">timeout</span></span> option.
<!--l. 5496--><p class="noindent" >
<!--l. 5496--><p class="indent" >    <h4 id="12.12" class="subsectionHead"> <span class="titlemark"> <a href="#12.12"> 12.12</a>  <a 
 id="x13-17100012.12"></a>Runahead Limiting </span></h4>
<!--l. 5499--><p class="indent" >   Runahead limiting prevents the fastest tasks in a suite from getting too far ahead of the slowest ones. Newly
spawned tasks are released to the task pool only when they fall below the runahead limit. A low runhead limit can
prevent cylc from interleaving cycles, but it will not stall a suite unless it fails to extend out past a future trigger
(see&#x00A0;<a 
href="cug-htmlse9.html#x10-960009.3.4.10">9.3.4.10<!--tex4ht:ref: InterCyclePointTriggers --></a>). A high runahead limit may allow fast tasks that are not constrained by dependencies or
clock-triggers to spawn far ahead of the pack, which could have performance implications for the suite daemon
when running very large suites. Succeeded and failed tasks are ignored when computing the runahead
limit.
<!--l. 5509--><p class="indent" >   The preferred runahead limiting mechanism restricts the number of consecutive active cycle points. The default
value is three active cycle points; see&#x00A0;<a 
href="cug-htmlse17.html#x18-248000A.3.5">A.3.5<!--tex4ht:ref: max active cycle points --></a>. Alternatively the interval between the slowest and fastest tasks can be
specified as hard limit; see&#x00A0;<a 
href="cug-htmlse17.html#x18-247000A.3.4">A.3.4<!--tex4ht:ref: runahead limit --></a>.
<!--l. 5515--><p class="noindent" >
<!--l. 5515--><p class="indent" >    <h4 id="12.13" class="subsectionHead"> <span class="titlemark"> <a href="#12.13"> 12.13</a>  <a 
 id="x13-17200012.13"></a>Limiting Active Tasks With Internal Queues </span></h4>
<!--l. 5518--><p class="indent" >   Large suites can potentially overwhelm task hosts by submitting too many tasks at once. You can prevent this
with <span 
class="cmti-10">internal queues</span>, which limit the number of tasks that can be active (submitted or running) at the some
time.
<!--l. 5523--><p class="indent" >   A queue is defined by a <span 
class="cmti-10">name</span>; a <span 
class="cmti-10">limit</span>, which is the maximum number of active tasks allowed for the queue; and a
list of <span 
class="cmti-10">members</span>, assigned by task or family name.
<!--l. 5527--><p class="indent" >   Queue configuration is done under the [scheduling] section of the suite.rc file (like dependencies, internal queues
constrain <span 
class="cmti-10">when </span>a task runs).
<!--l. 5530--><p class="indent" >   By default every task is assigned to the <span 
class="cmti-10">default </span>queue, which by default has a zero limit (interpreted by cylc as
no limit). To use a single queue for the whole suite just set the default queue limit:  <!--l. 5534--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172001r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">scheduling</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">queues</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172003r3"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">limit</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">the</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">entire</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">suite</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">to</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">5</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">active</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">tasks</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">at</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">once</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172004r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">default</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172005r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">limit</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">5</span>


   </div>
<!--l. 5541--><p class="indent" >   To use additional queues just name each one, set their limits, and assign members: <!--l. 5543--><div class="lstlisting">



<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172006r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">scheduling</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172007r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">queues</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172008r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">q_foo</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172009r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">limit</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">5</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172010r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">members</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">bar</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">baz</span>


   </div>
<!--l. 5550--><p class="indent" >   Any tasks not assigned to a particular queue will remain in the default queue. The <span 
class="cmti-10">queues </span>example suite
illustrates how queues work by running two task trees side by side (as seen in the graph GUI) each limited to 2 and
3 tasks respectively:
<a 
 id="x13-172011"></a>
   <!--l. 5555--><pre class="listings"><!--l. 5555--><div class="lstinputlisting"><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172012r1"></a></span><span 
class="pcrr7t-">title</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">demonstrates</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">internal</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">queueing</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172013r2"></a></span><span 
class="pcrr7t-">description</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172014r3"></a></span></span><span 
class="pcrr7t-">Two</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">trees</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">of</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">tasks</span><span 
class="pcrr7t-">:</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">the</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">first</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">uses</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">the</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">default</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">queue</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">set</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">to</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">a</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">limit</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">of</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172015r4"></a></span></span><span 
class="pcrr7t-">two</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">active</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">tasks</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">at</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">once</span><span 
class="pcrr7t-">;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">the</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">second</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">uses</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">another</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">queue</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">limited</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">to</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">three</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172016r5"></a></span></span><span 
class="pcrr7t-">active</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">tasks</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">at</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">once</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">Run</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">via</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">the</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">graph</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">control</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">GUI</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">for</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">a</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">clear</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">view</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172017r6"></a></span></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172018r7"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">scheduling</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172019r8"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">queues</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172020r9"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">default</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172021r10"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">limit</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">2</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172022r11"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172023r12"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">limit</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">3</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172024r13"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">members</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">n</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">o</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">p</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">fam2</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">u</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">v</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">w</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">x</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">y</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">z</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172025r14"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">dependencies</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172026r15"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">graph</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172027r16"></a></span></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">a</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">b</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">c</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">fam1</span><span 
class="pcrr7t-">:</span><span 
class="pcrr7t-">succeed</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">all</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">h</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">i</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">j</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">k</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">l</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">m</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172028r17"></a></span></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">n</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">o</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">p</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">fam2</span><span 
class="pcrr7t-">:</span><span 
class="pcrr7t-">succeed</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">all</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">u</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">v</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">w</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">x</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">y</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&amp;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">z</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172029r18"></a></span></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172030r19"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">runtime</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172031r20"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">fam1</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">fam2</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172032r21"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">d</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">e</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">f</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">g</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172033r22"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">inherit</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">fam1</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172034r23"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">q</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">r</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">s</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">t</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-172035r24"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">inherit</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">fam2</span></div>
   </pre>
<!--l. 5557--><p class="noindent" >
<!--l. 5557--><p class="indent" >    <h4 id="12.14" class="subsectionHead"> <span class="titlemark"> <a href="#12.14"> 12.14</a>  <a 
 id="x13-17300012.14"></a>Automatic Task Retry On Failure </span></h4>
<!--l. 5560--><p class="indent" >   See also&#x00A0;<a 
href="cug-htmlse17.html#x18-274000A.4.1.9">A.4.1.9<!--tex4ht:ref: RefRetries --></a> in the <span 
class="cmti-10">Suite.rc Reference</span>.
<!--l. 5562--><p class="indent" >   Tasks can be configured with a list of &#8220;retry delay&#8221; periods, as ISO 8601 durations, such that if a task fails it will
go into a temporary <span 
class="cmti-10">retrying </span>state and then automatically resubmit itself after the next specified delay period
expires. A usage example is shown in the suite listed below under&#x00A0;<a 
href="#x13-17400012.15">12.15<!--tex4ht:ref: EventHandling --></a>.
<!--l. 5568--><p class="noindent" >
<!--l. 5568--><p class="indent" >    <h4 id="12.15" class="subsectionHead"> <span class="titlemark"> <a href="#12.15"> 12.15</a>  <a 
 id="x13-17400012.15"></a>Suite And Task Event Handling </span></h4>
<!--l. 5571--><p class="indent" >   See also&#x00A0;<a 
href="cug-htmlse17.html#x18-227000A.2.8">A.2.8<!--tex4ht:ref: SuiteEventHandling --></a> and&#x00A0;<a 
href="cug-htmlse17.html#x18-295000A.4.1.20">A.4.1.20<!--tex4ht:ref: TaskEventHandling --></a> in the <span 
class="cmti-10">Suite.rc Reference</span>.
<!--l. 5574--><p class="indent" >   Cylc can call nominated event handlers when certain suite or task events occur. This is intended to facilitate
centralized alerting and automated handling of critical events. Event handlers can send an email or an
SMS, call a pager, and so on; or intervene in the operation of their own suite using cylc commands.
<span class="lstinline"><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">hook</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">email</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">suite</span></span> and <span class="lstinline"><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">hook</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">email</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">task</span></span> are example event handlers packaged with
cylc.
<!--l. 5582--><p class="indent" >   Event handlers can be located in the suite bin directory, otherwise it is up to you to ensure their location is in
<span class="lstinline"><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">PATH</span></span> (in the shell in which cylc runs, on the suite host).
<!--l. 5586--><p class="indent" >   Task event handlers are passed the following arguments by the suite daemon:
   <!--l. 5588--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-174001r1"></a></span><span 
class="pcrr7t-">&#x003C;</span><span 
class="pcrr7t-">task</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">event</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">handler</span><span 
class="pcrr7t-">&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">EVENT</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">SUITE</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">TASKID</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">MESSAGE</span>


   </div>
<!--l. 5591--><p class="indent" >   where EVENT is one of the following:
     <ul class="itemize1">
     <li class="itemize">&#8216;submitted&#8217; - the job submit command was successful
     </li>
     <li class="itemize">&#8216;submission failed&#8217; - the job submit command failed
     </li>
     <li class="itemize">&#8216;submission timeout&#8217; - task job submission timed out
     </li>
     <li class="itemize">&#8216;submission retry&#8217; - task job submission failed, but will retry after a configured delay
     </li>
     <li class="itemize">&#8216;started&#8217; - the task reported commencement of execution
     </li>
     <li class="itemize">&#8216;succeeded&#8217; - the task reported successful completion
                                                                                         

                                                                                         
     </li>
     <li class="itemize">&#8216;warning&#8217; - the task reported a warning message
     </li>
     <li class="itemize">&#8216;failed&#8217; - the task failed
     </li>
     <li class="itemize">&#8216;retry&#8217; - the task failed but will retry
     </li>
     <li class="itemize">&#8216;execution timeout&#8217; - task execution timed out</li></ul>
<!--l. 5605--><p class="noindent" >MESSAGE, if provided, describes what has happened, and TASKID identifies the task (<span class="lstinline"><span 
class="pcrr7t-">NAME</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">CYCLE</span></span> for cycling
tasks).
<!--l. 5608--><p class="indent" >   The retry event occurs if a task fails and has any remaining retries configured (see&#x00A0;<a 
href="#x13-17300012.14">12.14<!--tex4ht:ref: TaskRetries --></a>). The event handler will
be called as soon as the task fails, not after the retry delay period when it is resubmitted.
<!--l. 5613--><p class="indent" >   <span 
class="cmti-10">Note that event handlers are called by cylc itself, not by the running tasks </span>so if you wish to pass them
additional information via the environment you must use [cylc] <span 
class="cmsy-10">&#x2192; </span>[[environment]], not task runtime
environments.
<!--l. 5618--><p class="indent" >   Here is an example suite that tests the <span 
class="cmti-10">retry </span>and <span 
class="cmti-10">failed </span>events. The handler in this case simply echoes its
command line arguments to suite stdout.
   <!--l. 5623--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-174002r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">scheduling</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-174003r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">initial</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cycle</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">point</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">20100808</span><span 
class="pcrr7t-">T00</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-174004r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">final</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cycle</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">point</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">20100810</span><span 
class="pcrr7t-">T00</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-174005r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">dependencies</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-174006r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">T00</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-174007r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">graph</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">bar</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-174008r7"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">runtime</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-174009r8"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-174010r9"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">retry</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">delays</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">PT0S</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">PT30S</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-174011r10"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">command</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">scripting</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-174012r11"></a></span></span><span 
class="pcrr7t-">echo</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">TRY</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">NUMBER</span><span 
class="pcrr7t-">:</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">CYLC_TASK_TRY_NUMBER</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-174013r12"></a></span></span><span 
class="pcrr7t-">sleep</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">10</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-174014r13"></a></span></span><span 
class="pcrr7t-">#</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">retry</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">twice</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">and</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">succeed</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">on</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">the</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">final</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">try</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-174015r14"></a></span></span><span 
class="pcrr7t-">#</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">but</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">fail</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">definitively</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">in</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">the</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">final</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cycle</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-174016r15"></a></span></span><span 
class="pcrr7t-">if</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">((</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">CYLC_TASK_TRY_NUMBER</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x003C;=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">2</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">))</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">||</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">\</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-174017r16"></a></span></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">((</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">CYLC_TASK_CYCLE_POINT</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">==</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">CYLC_SUITE_FINAL_CYCLE_POINT</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">));</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">then</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-174018r17"></a></span></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">echo</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">ABORTING</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-174019r18"></a></span></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">bin</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">false</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-174020r19"></a></span></span><span 
class="pcrr7t-">fi</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-174021r20"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">event</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">hooks</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-174022r21"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">retry</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">handler</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">echo</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">!!!!!</span><span 
class="pcrr7t-">EVENT</span><span 
class="pcrr7t-">!!!!!</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-174023r22"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">failed</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">handler</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">echo</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">!!!!!</span><span 
class="pcrr7t-">EVENT</span><span 
class="pcrr7t-">!!!!!</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span>


   </div>
<!--l. 5648--><p class="noindent" >
<!--l. 5648--><p class="indent" >    <h4 id="12.16" class="subsectionHead"> <span class="titlemark"> <a href="#12.16"> 12.16</a>  <a 
 id="x13-17500012.16"></a>Reloading The Suite Definition At Runtime </span></h4>
<!--l. 5650--><p class="indent" >   The <span class="lstinline"><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">reload</span></span> command reloads the suite definition at run time. This allows: (a) changing task config such
as command scripting or environment; (b) adding tasks to, or removing them from, the suite definition, at
run time - without shutting the suite down and restarting it. (It is easy to shut down and restart
cylc suites, but reloading may be useful if you don&#8217;t want to wait for long-running tasks to finish
first).
<!--l. 5658--><p class="indent" >   Note that <span 
class="cmti-10">defined tasks </span>can be already be added to or removed from a running suite with the &#8217;cylc insert&#8217; and
&#8217;cylc remove&#8217; commands; the reload command allows addition and removal of <span 
class="cmti-10">task definitions</span>. If a new task is
definition is added (and used in the graph) you will still need to manually insert an instance of it (with a particular
cycle point) into the running suite. If a task definition (and its use in the graph) is deleted, existing task proxies of
the of the deleted type will run their course after the reload but new instances will not be spawned. Changes to a
task definition will only take effect when the next task instance is spawned (existing instances will not be
affected).
<!--l. 5670--><p class="noindent" >
<!--l. 5670--><p class="indent" >    <h4 id="12.17" class="subsectionHead"> <span class="titlemark"> <a href="#12.17"> 12.17</a>  <a 
 id="x13-17600012.17"></a>Handling Job Preemption </span></h4>
<!--l. 5673--><p class="indent" >   Some HPC facilities allow job preemption: the resource manager can kill or suspend running low priority jobs in
order to make way for high priority jobs. The preempted jobs may then be automatically restarted by the resource
manager, from the same point (if suspended) or requeued to run again from the start (if killed). If a running cylc
task gets suspended or hard-killed (<span class="lstinline"><span 
class="pcrr7t-">kill</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-9</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x003C;</span><span 
class="pcrr7t-">PID</span><span 
class="pcrr7t-">&#x003E;</span></span> is not a trappable signal so cylc cannot detect task failure in
this case) and then later restarted, it will just appear to cylc as if it takes longer than normal to run.
If the job is soft-killed the signal will be trapped by the task job script and a failure message sent,
resulting in cylc putting the task into the failed state. When the preempted task restarts and sends its
started message cylc would normally treat this as an error condition (a dead task is not supposed to be
                                                                                         

                                                                                         
sending messages) - a warning will be logged and the task will remain in the failed state. However, if
you know that preemption is possible on your system you can tell cylc that affected tasks should be
resurrected from the dead, to carry on as normal if progress messages start coming in again after a
failure:
   <!--l. 5693--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-176001r1"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">...</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-176002r2"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">runtime</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-176003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">on_HPC</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-176004r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">enable</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">resurrection</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">True</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-176005r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">TaskFoo</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-176006r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">inherit</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">on_HPC</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-176007r7"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">...</span>


   </div>
<!--l. 5703--><p class="indent" >   To test this in any suite, manually kill a running task then, after cylc registers the task failed, resubmit the
killed job manually by cutting-and-pasting the original job submission command from the suite stdout
stream.
<!--l. 5708--><p class="noindent" >
<!--l. 5708--><p class="indent" >    <h4 id="12.18" class="subsectionHead"> <span class="titlemark"> <a href="#12.18"> 12.18</a>  <a 
 id="x13-17700012.18"></a>Runtime Settings Broadcast and Communication Between Tasks </span></h4>
<!--l. 5710--><p class="indent" >   The <span class="lstinline"><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">broadcast</span></span> command overrides <span class="lstinline"><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">runtime</span><span 
class="pcrr7t-">]</span></span> settings in a running suite. This can be used to
communicate information to downstream tasks by broadcasting environment variables (communication of
information from one task to another normally takes place via the filesystem, i.e.&#x00A0;the input/output file relationships
embodied in inter-task dependencies). Variables (and any other runtime settings) may be broadcast to all
subsequent tasks, or targeted specifically at a specific task, all subsequent tasks with a given name, or all tasks with
a given cycle point; see broadcast command help for details.
<!--l. 5721--><p class="indent" >   Broadcast settings targeted at a specific task ID or cycle point expire and are forgotten as the suite
moves on. Un-targeted variables and those targetted at a task name persist throughout the suite run,
even across restarts, unless manually cleared using the broadcast command - and so should be used
sparingly.
<!--l. 5727--><p class="noindent" >
<!--l. 5727--><p class="indent" >    <h4 id="12.19" class="subsectionHead"> <span class="titlemark"> <a href="#12.19"> 12.19</a>  <a 
 id="x13-17800012.19"></a>The Meaning And Use Of Initial Cycle Point </span></h4>
<!--l. 5729--><p class="indent" >   When a suite is started with the <span class="lstinline"><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">run</span></span> command (cold or warm start) the cycle point at which it starts can
be given on the command line or hardwired into the suite.rc file: <!--l. 5732--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-178001r1"></a></span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">20120808</span><span 
class="pcrr7t-">T06Z</span>


   </div>
<!--l. 5735--><p class="indent" >   or, <!--l. 5736--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-178002r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">scheduling</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-178003r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">initial</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cycle</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">point</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">20100808</span><span 
class="pcrr7t-">T06Z</span>


   </div>
<!--l. 5740--><p class="indent" >   An initial cycle given on the command line will override one in the suite.rc file.
<!--l. 5743--><p class="noindent" >
<!--l. 5743--><p class="indent" >    <h4 id="12.19.1" class="subsubsectionHead"><span class="titlemark"> <a href="#12.19.1"> 12.19.1</a>  <a 
 id="x13-17900012.19.1"></a>The Environment Variable CYLC_SUITE_INITIAL_CYCLE_POINT </span></h4>
<!--l. 5745--><p class="indent" >   In the case of a <span 
class="cmti-10">cold start only </span>the initial cycle point is passed through to task execution environments as
<span class="lstinline"><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">CYLC_SUITE_INITIAL_CYCLE_POINT</span></span>. The value is then stored in suite state dumps and persists across
restarts, but it does get wiped out (set to <span class="lstinline"><span 
class="pcrr7t-">None</span></span>) after a warm start, because a warm start is really an
implicit restart in which all state information is lost (except that the previous cycle is assumed to have
completed).
                                                                                         

                                                                                         
<!--l. 5753--><p class="indent" >   The <span class="lstinline"><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">CYLC_SUITE_INITIAL_CYCLE_POINT</span></span> variable allows tasks to determine if they are running in the
initial cold-start cycle point, when different behaviour may be required, or in a normal mid-run cycle point. Note
however that an initial <span class="lstinline"><span 
class="pcrr7t-">R1</span></span> graph section is now the preferred way to get different behaviour at suite
start-up.
<!--l. 5759--><p class="noindent" >
<!--l. 5759--><p class="indent" >    <h4 id="12.20" class="subsectionHead"> <span class="titlemark"> <a href="#12.20"> 12.20</a>  <a 
 id="x13-18000012.20"></a>The Simulation And Dummy Run Modes </span></h4>
<!--l. 5762--><p class="indent" >   Since cylc-4.6.0 any cylc suite can run in <span 
class="cmti-10">live</span>, <span 
class="cmti-10">simulation</span>, or <span 
class="cmti-10">dummy </span>mode. Prior to that release simulation mode
was a hybrid mode that replaced real tasks with local dummy tasks. This allowed local simulation testing of any
suite, to get the scheduling right without running real tasks, but running dummy tasks locally does not add
much value over a pure simulation (in which no tasks are submitted at all) because all job submission
configuration has to be ignored and most task job script sections have to be cut out to avoid any
code that could potentially be specific to the intended task host. So at 4.6.0 we replaced this with a
pure simulation mode (task proxies go through the <span 
class="cmti-10">running </span>state automatically within cylc, and no
dummy tasks are submitted to run) and a new dummy mode in which only the real task command
scripting is dummied out - each dummy task is submitted exactly as the task it represents on the correct
host and in the same execution environment. A successful dummy run confirms not only that the
scheduling works correctly but also tests real job submission, communication from remote task hosts,
and the real task job scripts (in which errors such as use of undefined variables will cause a task to
fail).
<!--l. 5782--><p class="indent" >   The run mode, which defaults to <span 
class="cmti-10">live</span>, is set on the command line (for run and restart):  <!--l. 5785--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-180001r1"></a></span><span 
class="pcrr7t-">shell</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">mode</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">dummy</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">SUITE</span>


   </div>
<!--l. 5788--><p class="indent" >   but you can configure the suite to force a particular run mode,  <!--l. 5790--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-180002r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-180003r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">force</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">mode</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">simulation</span>


   </div>
<!--l. 5794--><p class="indent" >   This can be used, for example, for demo suites that necessarily run out of their original context; or to
temporarily prevent accidental execution of expensive real tasks during suite development.
<!--l. 5798--><p class="indent" >   Dummy mode task command scripting just prints a message and sleeps for ten seconds by default, but you can
override this behaviour for particular tasks or task groups if you like. Here&#8217;s how to make a task sleep for twenty
seconds and then fail in dummy mode:  <!--l. 5803--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-180004r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">runtime</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-180005r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-180006r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">command</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">scripting</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">real</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">task</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">sh</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-180007r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">dummy</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">mode</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-180008r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">command</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">scripting</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-180009r6"></a></span></span><span 
class="pcrr7t-">echo</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">hello</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">from</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dummy</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">task</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">CYLC_TASK_ID</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-180010r7"></a></span></span><span 
class="pcrr7t-">sleep</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">20</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-180011r8"></a></span></span><span 
class="pcrr7t-">echo</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">ABORTING</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-180012r9"></a></span></span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">bin</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">false</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span>


   </div>
<!--l. 5815--><p class="indent" >   Finally, in simulation mode each task takes between 1 and 15 seconds to &#8220;run&#8221; by default, but you can also alter
this for particular tasks or groups of tasks:  <!--l. 5819--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-180013r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">runtime</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-180014r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-180015r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">simulation</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">mode</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-180016r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">time</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">range</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">PT20S</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">PT31S</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">(</span><span 
class="pcrro7t-">between</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">20</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">and</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">30</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">seconds</span><span 
class="pcrro7t-">)</span>


   </div>
<!--l. 5825--><p class="indent" >   Note that to get a failed simulation or dummy mode task to succeed on re-triggering, just change the suite.rc file
appropriately and reload the suite definition at run time with <span class="lstinline"><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">reload</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">SUITE</span></span> before re-triggering the
task.
<!--l. 5830--><p class="indent" >   Dummy mode is equivalent to commenting out each task&#8217;s command scripting to expose the default
scripting.
                                                                                         

                                                                                         
<!--l. 5833--><p class="noindent" >
<!--l. 5833--><p class="indent" >    <h4 id="12.20.1" class="subsubsectionHead"><span class="titlemark"> <a href="#12.20.1"> 12.20.1</a>  <a 
 id="x13-18100012.20.1"></a>Restarting Suites With A Different Run Mode? </span></h4>
<!--l. 5835--><p class="indent" >   The run mode is recorded in the suite state dump file. Cylc will not let you <span 
class="cmti-10">restart </span>a non-live mode suite in live
mode, or vice versa - any attempt to do the former would certainly be a mistake (because the simulation mode
dummy tasks do not generate any of the real outputs depended on by downstream live tasks), and the latter, while
feasible, would corrupt the live state dump by turning it over to simulation mode. The easiest way to test a live
suite in simulation mode, if you don&#8217;t want to obliterate the current state dump by doing a cold or warm start (as
opposed to a restart from the previous state) is to take a quick copy of the suite and run the copy in simulation
mode. However, if you really want to run a live suite forward in simulation mode without copying it, do
this:
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x13-181002x1">Back up the live mode suite state dump file.
     </li>
     <li 
  class="enumerate" id="x13-181004x2">Edit the mode line in the state dump and restart in simulation mode.
     </li>
     <li 
  class="enumerate" id="x13-181006x3">Later, restart the live suite from the restored live state dump back up.</li></ol>
<!--l. 5957--><p class="noindent" >
<!--l. 5957--><p class="indent" >    <h4 id="12.21" class="subsectionHead"> <span class="titlemark"> <a href="#12.21"> 12.21</a>  <a 
 id="x13-18200012.21"></a>Automated Reference Test Suites </span></h4>
<!--l. 5960--><p class="indent" >   Reference tests are finite-duration suite runs that abort with non-zero exit status if any of the following
conditions occur (by default):
     <ul class="itemize1">
     <li class="itemize">cylc fails
     </li>
     <li class="itemize">any task fails
     </li>
     <li class="itemize">the suite times out (e.g.&#x00A0;a task dies without reporting failure)
     </li>
     <li class="itemize">a nominated shutdown event handler exits with error status</li></ul>
<!--l. 5970--><p class="indent" >   The default shutdown event handler for reference tests is <span class="lstinline"><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">hook</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">check</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">triggering</span></span> which compares
task triggering information (what triggers off what at run time) in the test run suite log to that from an earlier
reference run, disregarding the timing and order of events - which can vary according to the external queueing
conditions, runahead limit, and so on.
<!--l. 5977--><p class="indent" >   To prepare a reference log for a suite, run it with the <span class="lstinline"><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">reference</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">log</span></span> option, and manually verify the
correctness of the reference run.
<!--l. 5981--><p class="indent" >   To reference test a suite, just run it (in dummy mode for the most comprehensive test without running real
tasks) with the <span class="lstinline"><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">reference</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">test</span></span> option.
<!--l. 5985--><p class="indent" >   A battery of automated reference tests is used to test cylc before posting a new release version. Reference tests
can also be used at cylc upgrade time to check that the upgrade will not break your own complex suites - the
triggering check will catch any bug that causes a task to run when it shouldn&#8217;t, for instance; even in a dummy mode
reference test the full task job script (sans real command scripting) has to execute successfully on the proper task
host by the proper job submission method.
<!--l. 5994--><p class="indent" >   Reference tests can be configured with the following settings:  <!--l. 5996--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-182001r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-182002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">reference</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">test</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-182003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">shutdown</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">event</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">handler</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">check</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">triggering</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-182004r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">required</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">mode</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dummy</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-182005r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">allow</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">task</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">failures</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">False</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-182006r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">live</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">mode</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">timeout</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">PT5M</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-182007r7"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dummy</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">mode</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">timeout</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">PT2M</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-182008r8"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">simulation</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">mode</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">timeout</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">PT2M</span>


   </div>
                                                                                         

                                                                                         
<!--l. 6007--><p class="noindent" >
<!--l. 6007--><p class="indent" >    <h4 id="12.21.1" class="subsubsectionHead"><span class="titlemark"> <a href="#12.21.1"> 12.21.1</a>  <a 
 id="x13-18300012.21.1"></a>Roll-your-own Reference Tests </span></h4>
<!--l. 6009--><p class="indent" >   If the default reference test is not sufficient for your needs, firstly note that you can override the default
shutdown event handler, and secondly that the <span class="lstinline"><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">reference</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">test</span></span> option is merely a short cut to the following
suite.rc settings which can also be set manually if you wish:
   <!--l. 6016--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-183001r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-183002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">abort</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">if</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">any</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">task</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">fails</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">True</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-183003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">event</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">hooks</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-183004r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">shutdown</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">handler</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">check</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">triggering</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-183005r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">timeout</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">PT5M</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-183006r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">abort</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">if</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">shutdown</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">handler</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">fails</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">True</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-183007r7"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">abort</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">on</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">timeout</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">True</span>


   </div>
<!--l. 6027--><p class="noindent" >
<!--l. 6027--><p class="indent" >    <h4 id="12.22" class="subsectionHead"> <span class="titlemark"> <a href="#12.22"> 12.22</a>  <a 
 id="x13-18400012.22"></a>Triggering Off Tasks In Other Suites </span></h4>
<!--l. 6030--><p class="indent" >   The <span class="lstinline"><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">state</span></span> command, which interrogates suite run databases, has a polling mode that waits on
a given task achieving a given state. See <span class="lstinline"><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">state</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">help</span></span> for command options and
defaults.
<!--l. 6035--><p class="indent" >   The suite graph notation also allows you to define local tasks that, in effect, represent tasks in other suites by
automatically polling for them using the <span class="lstinline"><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">state</span></span> command. Here&#8217;s how to trigger a task <span class="lstinline"><span 
class="pcrr7t-">bar</span></span> off a
task <span class="lstinline"><span 
class="pcrr7t-">foo</span></span> in another suite called <span class="lstinline"><span 
class="pcrr7t-">other</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">suite</span></span>: <!--l. 6040--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-184001r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">scheduling</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-184002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">dependencies</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-184003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">T00</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">T12</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-184004r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">graph</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">FOO</span><span 
class="pcrr7t-">&#x003C;</span><span 
class="pcrr7t-">other</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">::</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">bar</span><span 
class="pcrr7t-">"</span>


   </div>
<!--l. 6046--><p class="indent" >   Local task <span class="lstinline"><span 
class="pcrr7t-">FOO</span></span> will poll for the success of <span class="lstinline"><span 
class="pcrr7t-">foo</span></span> in suite <span class="lstinline"><span 
class="pcrr7t-">other</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">suite</span></span> at the same cycle point. Other task states
can be polled like this, <!--l. 6049--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-184005r1"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">graph</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">FOO</span><span 
class="pcrr7t-">&#x003C;</span><span 
class="pcrr7t-">other</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">::</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">:</span><span 
class="pcrr7t-">fail</span><span 
class="pcrr7t-">&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">bar</span><span 
class="pcrr7t-">"</span>


   </div>
<!--l. 6053--><p class="indent" >   Default polling parameters (the maximum number of polls and the interval between them) are printed by
<span class="lstinline"><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">state</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">help</span></span>. These can be configured if necessary under the local polling task runtime section:
<!--l. 6057--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-184006r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">scheduling</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-184007r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">dependencies</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-184008r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">T00</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">T12</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-184009r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">graph</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">FOO</span><span 
class="pcrr7t-">&#x003C;</span><span 
class="pcrr7t-">other</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">::</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">bar</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-184010r5"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">runtime</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-184011r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">FOO</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-184012r7"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">state</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">polling</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-184013r8"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">max</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">polls</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">100</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-184014r9"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">interval</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">PT10S</span>


   </div>
<!--l. 6069--><p class="indent" >   The remote suite does not have to be running when polling commences (or at all if the remote condition has
already been achieved) because the command interrogates the suite run database, not the suite server
process.
<!--l. 6074--><p class="indent" >   For suites owned by others or those with run databases in non-standard locations use the <span class="lstinline"><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">dir</span></span> option or,
in-suite, <!--l. 6076--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-184015r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">runtime</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-184016r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">FOO</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-184017r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">state</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">polling</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-184018r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">dir</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">path</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">to</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">top</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">level</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">directory</span>


   </div>
<!--l. 6083--><p class="indent" >   To trigger off remote tasks with different cycle points just arrange for the local polling task to be on the same
cycling sequence as the remote task that it represents. For instance, if local task <span class="lstinline"><span 
class="pcrr7t-">cat</span></span> cycles 6-hourly
at <span class="lstinline"><span 
class="pcrr7t-">0,6,12,18</span></span> but needs to trigger off a remote task <span class="lstinline"><span 
class="pcrr7t-">dog</span></span> with cycle points of <span class="lstinline"><span 
class="pcrr7t-">3,9,15,21</span></span> hours,
<!--l. 6089--><div class="lstlisting">



<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-184019r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">scheduling</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-184020r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">dependencies</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-184021r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">T00</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">T06</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">T12</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">T18</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x13-184022r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">graph</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">DOG</span><span 
class="pcrr7t-">&#x003C;</span><span 
class="pcrr7t-">other</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">::</span><span 
class="pcrr7t-">dog</span><span 
class="pcrr7t-">&#x003E;[-</span><span 
class="pcrr7t-">PT3H</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cat</span><span 
class="pcrr7t-">"</span>


   </div>
<!--l. 6095--><p class="indent" >   This results in <span class="lstinline"><span 
class="pcrr7t-">DOG</span></span> having cycle points of <span class="lstinline"><span 
class="pcrr7t-">3,9,15,21</span></span> - the sames as <span class="lstinline"><span 
class="pcrr7t-">dog</span></span> in <span class="lstinline"><span 
class="pcrr7t-">other</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">suite</span></span>.
                                                                                         

                                                                                         
   <div class="footnotes"><!--l. 5458--><p class="indent" >    <span class="footnote-mark"><a 
href="#fn5x0-bk" id="fn5x0"><sup class="textsuperscript">5</sup></a></span><span 
class="cmr-8">If you accidentally delete a port file while a suite is running, use </span><span class="lstinline"><span 
class="pcrr7t-x-x-80">cylc</span><span 
class="pcrr7t-x-x-80">&#x00A0;</span><span 
class="pcrr7t-x-x-80">scan</span></span> <span 
class="cmr-8">to determine the port number then use it on the</span>
<span 
class="cmr-8">command line (</span><span class="lstinline"><span 
class="pcrr7t-x-x-80">--</span><span 
class="pcrr7t-x-x-80">port</span></span><span 
class="cmr-8">) or rewrite the port file manually.</span>                                                                                          </div>
<!--l. 6100--><div class="crosslinks"><p class="noindent">[<a 
href="cug-htmlse13.html" >next</a>] [<a 
href="cug-htmlse11.html" >prev</a>] [<a 
href="cug-htmlse11.html#tailcug-htmlse11.html" >prev-tail</a>] [<a 
href="cug-htmlse12.html" >front</a>] [<a 
href="cug-html.html#cug-htmlse12.html" >up</a>] </p></div>
<!--l. 6100--><p class="indent" >   <a 
 id="tailcug-htmlse12.html"></a>   
</body></html> 
