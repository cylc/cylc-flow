Fixed two `cylc set` bugs:
- It was affecting job states when it should only affect _task_ states.
- In some cases it was causing a task to go back into the waiting state.
